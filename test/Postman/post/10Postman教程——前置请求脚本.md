## Postman教程——前置请求脚本

来源：[https://www.jellythink.com/archives/177](https://www.jellythink.com/archives/177)

时间 2018-03-19 23:34:02

 
## 前言
 
在前面的文章中已经说到了，在Postman中可以编写以下两种脚本：
 

* 前置请求脚本 
* 测试脚本 
 

这两种脚本的运行时机都不一样，在上一篇《 [Postman教程——脚本介绍][3] 》中已经详细的进行了介绍。这篇文章将对其中的前置请求脚本进行详细的总结。
 
## 前置请求脚本
 
前置请求脚本是在请求发送之前执行的代码片段。对于前置请求脚本的使用一般有以下场景：
 

* 设置动态请求头信息； 
* 设置动态请求参数信息。 
 

比如，现在需要在请求头中添加一个`timestamp`字段，而该字段值是表示当前的时间戳，是一个动态变化值，所以该字段就需要动态设定。此时，我们就可以通过前置请求脚本来实现，具体如下图所示：
 
![][0]
 
我们在`Pre-request Script`标签页下输入以下的一行代码：
 
```LANG
pm.environment.set('timestampHeader', new Date());
```
 
这行代码表示设置Postman的环境变量，关于环境变量的细节，我后续还会细说。
 
在设置请求头时，我们只需要使用`{{timestampHeader}}`表达式，就可以正确获取在前置请求脚本中设置的值。如下图所示：
 
![][1]
 
当然了，我们也可以对集合、集合中的文件夹添加前置请求脚本，添加方法如下图所示：
 
![][2]
 
## 总结
 
这篇文章对Postman中的前置请求脚本进行了详细的总结，包括具体的使用场景。希望我的这篇文章能够对大家有帮助。
 
果冻想-一个原创技术文章分享网站。
 
2018年2月25日 于包头。
 


[3]: https://www.jellythink.com/archives/175
[0]: ./img/3uUFfmi.png 
[1]: ./img/miUVzm7.png 
[2]: ./img/3QzMFf6.png 