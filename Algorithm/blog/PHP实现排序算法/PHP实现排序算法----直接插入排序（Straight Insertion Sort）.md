# [PHP实现排序算法----直接插入排序（Straight Insertion Sort）][0]

 标签： [php][1][排序算法][2][插入排序][3][数据结构与算法][4]

 2016-11-07 22:27  316人阅读  

版权声明：本文为博主原创文章，未经博主允许不得转载。

 目录

1. [算法引入][10]
1. [基本思想][11]
1. [算法实现][12]

## 算法引入：

在这里我们依然使用《大话[数据结构][13]》里面的一个例子：

> 扑克牌是我们几乎每个人都玩过的游戏。平时我们开始的时候一般都是一个人发牌，其他人都是一边摸牌，一边理牌，假如你摸上的第一张牌是 5，第二张牌是 3，自然而然的我们把 3 插到 5 的前面；第三张牌是 4，查到 3 和 5 的中间；第四张牌是 6，放到 5 的后面；第五张牌是 2，插到 3 的前面；……。最后当我们摸完所有的牌时，手上的牌都是从小到大（点数）排好序的。

我们来看这个顺序：

    5               3           // 将 3 插入只有一个元素 5 的有序表中
    3 5             4           // 将 4 插入有两个元素 3 5 的有序表中
    3 4 5           6           // 将 6 插入有两个元素 3 4 5 的有序表中
    3 4 5 6         2           // 将 2 插入有两个元素 3 4 5 6 的有序表中
    2 3 4 5 6


## 基本思想：

直接插入排序的基本思想是 ： 每次从无序表中取出第一个元素，把它插入到有序表的合适位置，使有序表仍然有序。

第一趟比较前两个数，然后把第二个数按大小插入到有序表中； 第二趟把第三个数据与前两个数从后向前扫描，把第三个数按大小插入到有序表中；依次进行下去，进行了(n-1)趟扫描以后就完成了整个排序过程。

直接插入排序是由两层嵌套循环组成的。外层循环标识并决定待比较的数值。内层循环为待比较数值确定其最终位置。直接插入排序是将待比较的数值与它的前一个数值进行比较，所以外层循环是从第二个数值开始的。当前一数值比待比较数值大的情况下继续循环比较，直到找到比待比较数值小的并将待比较数值置入其后一位置，结束该次循环。

插入排序的基本方法是：每步将一个待排序的记录按其关键字的大小插到前面已经排序的序列中的适当位置，直到全部记录插入完毕为止。


### 排序流程：

1. 首先对数组的前两个数据进行从小到大排序
1. 然后将第三个数据与前面排好的数据进行比较，把第三个数插入合适的位置
1. 然后将第四个数据插入到前三个数据中
1. 重复此步骤，直到最后一个数插入合适的位置为止，到此排序完成



## 算法实现：
```php
    <?php
    
    //直接插入排序
    
    function swap(array &$arr,$a,$b){
        $temp = $arr[$a];
        $arr[$a] = $arr[$b];
        $arr[$b] = $temp;
    }
    
    function InsertSort(array &$arr){
        $count = count($arr);
        //数组中第一个元素作为一个已经存在的有序表
        for($i = 1;$i < $count;$i ++){
            $temp = $arr[$i];      //设置哨兵
            for($j = $i - 1;$j >= 0 && $arr[$j] > $temp;$j --){
                $arr[$j + 1] = $arr[$j];       //记录后移
            }
            $arr[$j + 1] = $temp;      //插入到正确的位置
        }
    }
    
    $arr = array(9,1,5,8,3,7,4,6,2);
    InsertSort($arr);
    var_dump($arr);
```

直接插入排序[算法][13]的时间复杂度为 O(n^2)。

直接插入排序是稳定排序。

[0]: http://www.csdn.net/baidu_30000217/article/details/53072746
[1]: http://www.csdn.net/tag/php
[2]: http://www.csdn.net/tag/%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95
[3]: http://www.csdn.net/tag/%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f
[4]: http://www.csdn.net/tag/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%b8%8e%e7%ae%97%e6%b3%95
[9]: #
[10]: #t0
[11]: #t1
[12]: #t2
[13]: http://lib.csdn.net/base/datastructure