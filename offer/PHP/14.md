# 几道坑人的PHP面试题 试试看看你会不会也中招

这篇文章主要介绍了几道坑人的PHP面试题,试试看看你会不会也中招,这些题目都用了一些障眼法,需要你有一双火眼金睛哦,需要的朋友可以参考下

这几道题是在德问上看到的，感觉挺有意思，拿来给大家分享其中的陷阱，看看你会不会掉入其中。

**第一题**

```php
$arr = array(0=>1,"aa"=>2, 3, 4);  
  
foreach($arr as $key=>$val){  
    print($key == "aa" ? 5 : $val);  // 陷阱在 key = 0 ; 数字比较，后面字符串转为数字
}
```
  
输出结果是多少？如果的答案是1534就掉入陷阱了。  
先看看这个数组最终形成的结构：  

    Array  
    (  
        [0] => 1  
        [aa] => 2  
        [1] => 3  
        [2] => 4  
    )

  
然后遍历每一个元素的key看等不等于aa，等于就用5替代。当我告诉你答案是5534的时候，你会不会有点惊讶！难道0等于"aa"吗？是的，0就等于"aa"，这道题重点就考你这个。在PHP中两个值进行逻辑判断时，如果两个值的类型不一致PHP会自动把右边的值转换到左边的类型，然后再进行判断。因此"aa"转换整形等于0，自然也就等于左边的0了。你可以使用全等于避免这种该情况，也就是如果你写成：  
  
    print($key === "aa" ? 5 : $val);

  
那么答案就是1534了。

**第二题**
```php
$i='11';  
printf("%d",$i); // 打印 11  返回 2
printf("%d",printf("%d",$i));  // 打印 11  打印 2 返回 1
printf("%d\n",printf("%d",printf("%d",$i)));  // 打印 11  打印 2 打印 1
```
  
输出结果是多少？如果你回答是11，或者111111就掉入陷阱了。  
先了解printf这个函数，printf不仅是打印函数，它还有返回值。重点就在这  

    var_dump(printf("%d",$i));

  
你猜猜上面的结果是啥？先是printf打印变量本身11，然后printf会返回一个变量字符串长度的值，11有两个字符，于是返回2，于是上面语句的执行结果等于：  

    11int(2)

  
清楚了这一点以后，再回过来看上面的试题，按照优先级，先执行深度printf函数，打印11，返回2。接着到第二级printf函数，打印2，返回1。最后到第三层，直接打印1，所以执行结果是 1121。

**第三题**
```php
$a = 3;  
$b = 5;  
if($a = 5 || $b = 7) {  
    $a++;  // boolean  $a  true 
    $b++;  
}  
echo $a . " " . $b;
```
  
执行结果是多少？如果你回答 6 8 or 4 6 or 6 6，那你就掉入陷阱了。  
第一个陷阱，认为答案等于 4 6 。估计你粗心把 $a = 5 || $b = 7 看成 $a == 5 || $b == 7 ，这是新手常犯的错误。第二个陷阱，认为答案等于 6 8。 你识破了 $a = 5 || $b = 7 这个骗局，但你没有注意到，逻辑或里只要依次执行直到某个表达式结果为true，表达式后边的就不再执行，$a = 5 返回true，后边的$b=7就不执行了。  
第三个陷阱，认为答案等于 6 6。 OK，你识破了 逻辑或的规则，于是$a=5执行，$b=7不执行，但是你没有考虑到这里是逻辑表达式，返回给$a的值是要转换为布尔值的。这样看。

所以经过以上三个陷阱，你应该知道答案是多少了，其实 $a等于true以后，echo $a 输出就是1 ，$b值不变，结果就是 1 6 。

**第四题**
```php
$count = 5;  
function get_count() {  
    static $count = 0;  
    return $count++;  
}  
++$count;  // 没用
get_count();  
echo get_count();
```
  
执行结果是多少？如果你回答 2 ，恭喜，你掉入陷阱了。  
其实这道题主要考两点，第一点是static静态类型。这种的值永远都是静态的，第一次调用声明等于0，并且自增等于1。第二次调用，1再自增就等于2。但其实这里还有一道陷阱，那就是 `++a`与`a++` 的区别，前`++`是先自增，后`++`是先返回值再自增，所以结果等于 1。

**第五题**

```php
$a = count ("567") + count(null) + count(false);  // "567" 是一个对象  
echo $a;
```
如果你回答 3 or 1，恭喜，掉入陷阱了。  
因为count(null)等于0，false也算一个值。所以count(false)等于1。

