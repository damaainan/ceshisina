# 关于抽象类初步理解

 时间 2016-05-09 18:08:18  神一样的少年's

原文[http://www.godblessyuan.com/2016/05/09/关于抽象类初步理解/][1]


## 什么是抽象类

1. 抽象类是指在 class 前加了 abstract 关键字且存在抽象方法（在类方法 function 关键字前加了 abstract 关键字）的类。
1. 抽象类不能被直接实例化。抽象类中只定义（或部分实现）子类需要的方法。子类可以通过继承抽象类并通过实现抽象类中的所有抽象方法，使抽象类具体化。
1. 如果子类需要实例化，前提是它实现了抽象类中的所有抽象方法。如果子类没有全部实现抽象类中的所有抽象方法，那么该子类也是一个抽象类，必须在 class 前面加上 abstract 关键字，并且不能被实例化。

[引用链接][3]
1. 接口（Interface）—— 定义行为
1. 抽象类（Abstract Class） —— 实现行为
1. 具体类（class）——执行行为

[引用链接][4]
1. 抽象类就是一个类的服务提供商，拥有众多服务，你不用必须用，当需要的时候你来用就可以，如果你觉得不提供服务不满意，你还可以自己来做。
1. 抽象方法是必须实现的方法。就象动物都要呼吸。但是鱼用鳃呼吸，猪用肺呼吸。

动物类要有呼吸方法。怎么呼吸就是子类的事了。

[引用链接][5]

## 为什么要使用抽象类

按照我目前的知识理解：

1. 保持程序的一致性
1. 抽象类限制了实现的方法，也是为了保持一致性
1. 增加代码重用性，例如一些公共类不需要实现，只需要调用里面的方法就可以了。
1. 现在有很多讨论和建议提倡用interface代替abstract类，两者从理论上可以做一般性的混用，但是在实际应用中，他们还是有一定区别的。抽象类一般作为公共的父类为子类的扩展提供基础，这里的扩展包括了属性上和行为上的。而接口一般来说不考虑属性，只考虑方法，使得子类可以自由的填补或者扩展接口所定义的方法，就像JAVA王子所说的事件中的适配器就是一个很好的应用。

用一个简单的例子，比如说一个教师，我们把它作为一个抽象类，有自己的属性，比如说年龄，教育程度，教师编号等等，而教师也是分很多种类的，我们就可以继承教师类而扩展特有的种类属性，而普遍属性已经直接继承了下来。 

**而接口呢~还是拿教师做例子，教师的行为很多，除了和普通人相同的以外，还有职业相关的行为，比如改考卷，讲课等等，我们把这些行为定义成无body的方 法，作为一个集合，它是一个interface。而教师张三李四的各自行为特点又有不同，那么他们就可以扩展自己的行为body。从这点意义上来说，interface偏重于行为。 **

[引用链接][5]

虽然写了一大堆，作为初学的，我依然还是不能完全理解，但是基本上大概的概念是明白了，也大致明白了怎么使用，嘛，慢慢来吧。

## 怎样使用抽象类

```php  
<?php

abstract class  Shape{  //这是一个抽象类，不能实例化
    protected  $color;  //抽象类里面一般都是使用protected来保护属性，这是封装的意义

    public function __construct($color = 'red') {   //抽象类可以使用构造方法，主要是为了方便代码重用，构造方法里面也可以使用默认参数，当没有配置参数的时候，就会使用默认的参数，写法如上
        $this->color = $color;
    }

    public function getColor() {  //只是为了演示需要的一个方法
        return $this->color;
    }

    abstract public function getArea();  //构造方法是为了限制代码，对于继承这个构造类的子类，必须限制拥有这个构造方法，主要为了保持代码一致性。
}

class Square extends Shape{
    protected  $length = 4;
    public function getArea() {
        return pow($this->$length, 2);
    }
}

class Circle extends Shape{ //这里因为没有构造方法getArea，所以代码允许会报错的。

}

$shape = new Square();
var_dump($shape);
```
    

本文由 PeterYuan 创作，采用 署名-非商业性使用 2.5 中国大陆 进行许可。 转载、引用前需联系作者，并署名作者且注明文章出处。神一样的少年 »关于抽象

[1]: http://www.godblessyuan.com/2016/05/09/关于抽象类初步理解/
[3]: http://blog.csdn.net/sunlylorn/article/details/6124319
[4]: http://www.howzhi.com/group/php/discuss/10060
[5]: http://chengxudaren.com/index.php?act=article&op=detail&a_id=152