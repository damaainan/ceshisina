## JavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°ä¹‹ä¸€ - ç†è®ºåŸºç¡€

æ¥æºï¼š[http://www.cnblogs.com/sunjingke/p/8819468.html](http://www.cnblogs.com/sunjingke/p/8819468.html)

2018-04-13 11:53

![][0]


è‡ªä»å¹´å‰å¾—ç©ºå†™äº†ä¸¤ç¯‡æ–‡ç« ä¹‹åå°±å¼€å§‹å¿™äº†ï¼Œè¿™ä¸€å¿™å°±æ˜¯2ä¸ªæœˆğŸ˜­ã€‚å½“æ—¶ä¿¡èª“æ—¦æ—¦è¯´çš„å®šæœŸå†™ç¯‡åšå®¢çš„è®¡åˆ’ä¹Ÿå°±æ³¡æ±¤äº†ğŸ¤£ï¼Œä¸è¿‡å¥½åœ¨æœ€è¿‘æœ‰ç©ºï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹è¿™ä¸¤ä¸ªæœˆé‡åˆ°çš„å‡ ä¸ªé—®é¢˜ã€‚ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯é¡¹ç›®ä¸­ç”¨åˆ°äº†ä¸€äº›æ­£åˆ™æ‰å‘ç°ä¹‹å‰è¢«è‡ªå·±å¿½ç•¥çš„æ­£åˆ™æ˜¯æ—¶å€™è¡¥ä¸€è¡¥äº†ã€‚æ°é€¢ä»Šå¤©å‘¨å…­ğŸ˜ï¼Œå°±æŠŠè‡ªå·±å­¦ä¹ JavaScriptæ­£åˆ™è¡¨è¾¾å¼çš„ç¬”è®°æ•´ç†æˆæ–‡ï¼Œå†™äº†è¿™ç¯‡å…³äºæ­£åˆ™è¡¨è¾¾å¼ç†è®ºåŸºç¡€çš„æ–‡ç« ï¼Œå¸Œæœ›æœ¬æ–‡èƒ½å¯¹æœ‰éœ€è¦çš„åŒå­¦æä¾›å¸®åŠ©ã€‚å·å¤–ï¼šæœ¬æ–‡ç›¸å¯¹åŸºç¡€ï¼Œå¤§ç¥è¯·å¿½ç•¥ğŸ™ˆã€‚


### ä¸€. åŸºæœ¬æ¦‚å¿µ


* æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚ ä¸€ç§å‡ ä¹å¯ä»¥åœ¨æ‰€æœ‰çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œå’Œæ‰€æœ‰çš„è®¡ç®—æœºå¹³å°ä¸Šä½¿ç”¨çš„æ–‡å­—å¤„ç†å·¥å…·ã€‚å®ƒå¯ä»¥ç”¨æ¥æŸ¥æ‰¾ï¼ˆæœç´¢ï¼‰ç‰¹å®šçš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŸ¥æ‰¾å¹¶ç¼–è¾‘ï¼ˆæ›¿æ¢ï¼‰ç‰¹å®šçš„ä¿¡æ¯ã€‚

* æ ¸å¿ƒæ˜¯åŒ¹é…ï¼ŒåŒ¹é…ä½ç½®æˆ–è€…åŒ¹é…å­—ç¬¦ã€‚

* åœ¨`JavaScript`ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚

* è¿™äº›æ¨¡å¼è¢«ç”¨äº`RegExp`çš„`exec`å’Œ`test`æ–¹æ³•, ä»¥åŠ`String`çš„`match`ã€`replace`ã€`search`å’Œ`split`æ–¹æ³•ã€‚



### äºŒ. åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼
#### 2.1 æ­£åˆ™è¡¨è¾¾å¼çš„åˆ›å»ºå¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ã€‚
##### 2.1.1 å­—é¢é‡

`/pattern/flags`

```js
let reg1 = /jing ke tong xue/g;
console.log(reg1); // /jing ke tong xue/g
```

##### 2.1.2 æ„é€ å‡½æ•°

`new RegExp(pattern [, flags])`

```js
let reg2 = new RegExp('jing ke tong xue', 'g');
console.log(reg2); // /jing ke tong xue/g
```

##### 2.1.3 å·¥å‚ç¬¦å·

`RegExp(pattern [, flags])`

```js
let reg3 = RegExp('jing ke tong xue', 'g');
console.log(reg3); // /jing ke tong xue/g
```

#### 2.2 å­—é¢é‡ã€æ„é€ å‡½æ•°ã€å·¥å‚ç¬¦å·åœ¨åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å¼‚åŒ
##### 2.2.1 å…±åŒç‚¹

ä¸‰ç§æ–¹æ³•éƒ½å¯ä»¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬`pattern`ä¸ºå¿…é¡»å‚æ•°ï¼Œæ ‡å¿—ç¬¦`flags`æœ‰`gã€iã€mã€yã€u`äº”ä¸ªå¯é€‰ã€å¯ä»»æ„æ­é…å‚æ•°ã€‚
##### 2.2.2 ä¸åŒç‚¹


æ„é€ å‡½æ•°å’Œå·¥å‚ç¬¦å·é™¤äº†ç›¸å·®ä¸€ä¸ª`new`å…³é”®å­—å¤–æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œä½†æ˜¯ä¸æ¨èå·¥å‚ç¬¦å·çš„å½¢å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ã€‚ä¸‹é¢ä¸»è¦è¯´ä¸€ä¸‹å­—é¢é‡å’Œæ„é€ å‡½æ•°çš„å½¢å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¸åŒä¹‹å¤„ã€‚


* å½“è¡¨è¾¾å¼è¢«èµ‹å€¼æ—¶ï¼Œå­—é¢é‡å½¢å¼æä¾›æ­£åˆ™è¡¨è¾¾å¼çš„`ç¼–è¯‘ï¼ˆcompilationï¼‰`çŠ¶æ€ï¼Œå½“æ­£åˆ™è¡¨è¾¾å¼ä¿æŒä¸ºå¸¸é‡æ—¶ä½¿ç”¨å­—é¢é‡ã€‚ä¾‹å¦‚å½“ä½ åœ¨å¾ªç¯ä¸­ä½¿ç”¨å­—é¢é‡æ„é€ ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¸ä¼šåœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­éƒ½è¢«`é‡æ–°ç¼–è¯‘ï¼ˆrecompiledï¼‰`ã€‚

* æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œå¦‚`new RegExp('jing ke tong xue')`æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼`è¿è¡Œæ—¶ç¼–è¯‘ï¼ˆruntime compilationï¼‰`ã€‚å¦‚æœä½ çŸ¥é“æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼å°†ä¼šæ”¹å˜ï¼Œæˆ–è€…ä½ äº‹å…ˆä¸çŸ¥é“ä»€ä¹ˆæ¨¡å¼ï¼Œè€Œæ˜¯ä»å¦ä¸€ä¸ªæ¥æºè·å–ï¼Œå¦‚ç”¨æˆ·è¾“å…¥ï¼Œè¿™äº›æƒ…å†µéƒ½å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°ã€‚

* ä»`ECMAScript 6`å¼€å§‹ï¼Œå½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ­£åˆ™è¡¨è¾¾å¼è€Œç¬¬äºŒä¸ªæ ‡å¿—å‚æ•°å­˜åœ¨æ—¶ï¼Œ`new RegExp(/jing ke tong xue/, 'g')`ä¸å†æŠ›å‡º==TypeError== ï¼ˆâ€œå½“ä»å…¶ä»–æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ„é€ æ—¶ä¸æ”¯æŒæ ‡å¿—â€ï¼‰çš„å¼‚å¸¸ï¼Œå–è€Œä»£ä¹‹ï¼Œå°†ä½¿ç”¨è¿™äº›å‚æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

* å­—é¢é‡æ–¹å¼`pattern`ä¸­æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å…ƒå­—ç¬¦ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œå˜é‡å€¼çš„æ‹¼æ¥ã€‚é€šè¿‡æ„é€ å‡½æ•°çš„æ–¹å¼`pattern`ä¸­æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ˜¯å¯ä»¥è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥çš„ï¼ŒåŒæ—¶å¯¹äºç‰¹æ®Šå­—ç¬¦ä¹Ÿæ˜¯éœ€è¦è½¬ä¹‰çš„ã€‚



* å­—ç¬¦ä¸²å˜é‡æ‹¼æ¥



```js
const name = 'jing ke';

// å­—ç¬¦ä¸²æ‹¼æ¥ä¸ä¼šæˆåŠŸ
let reg1 = /" + name + " tong xue/g;
console.log(reg1); // /" + name + " tong xue/g

// å­—ç¬¦ä¸²æ‹¼æ¥å¯ä»¥æˆåŠŸ
let reg2 = new RegExp(name + ' tong xue', 'g');
console.log(reg2); // /jing ke tong xue/g
```



* ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰



```js
const name = 'jing     ke';

// åŒ¹é…nameï¼Œè¿™é‡Œjingå’Œkeä¹‹é—´å¯èƒ½æœ‰1ä¸ªæˆ–å¤šä¸ªç©ºæ ¼
let reg1 = /jing\s+ke/g;
console.log(reg1); // /jing\s+ke/g
console.log(reg1.test(name)); // true

// è¿™é‡Œåˆ›å»ºçš„æ­£åˆ™è¡¨è¾¾å¼å’Œå­—é¢é‡æ–¹å¼åˆ›å»ºçš„ç»“æœå¹¶ä¸ä¸€æ ·
let reg2 = new RegExp('jing\s+ke', 'g');
console.log(reg2); // /jings+ke/g
console.log(reg2.test(name)); // false

// è¿™é‡Œæˆ‘æŠŠreg3ç¨ç¨æ”¹é€ äº†ä¸€ä¸‹ï¼Œç»“æœå°±å’Œreg1ä¸€æ ·äº†
let reg3 = new RegExp('jing\\s+ke', 'g');
console.log(reg3); // /jing\s+ke/g
console.log(reg3.test(name)); // true
```



å†çœ‹ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦è½¬ä¹‰çš„ä¾‹å­



```js
// å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åæ–œæ  \
const str = '\\'; // è¿™é‡Œstrå°±æ˜¯ \ï¼Œåæ–œæ æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œä¸‹æ–‡ä»‹ç»åŸºæœ¬å…ƒå­—ç¬¦ä¼šè®²
// å­—é¢é‡æ–¹å¼
let reg1 = /\\/g;
console.log(reg1); // /\\/g
console.log(reg1.test(str)); // true

// ä¸ºä»€ä¹ˆæ˜¯4ä¸ªåæ–œæ ï¼Œè¯¦è§ä¸‹æ–‡å…ƒå­—ç¬¦ä»‹ç»ã€‚è‡ªå·±åœ¨æ§åˆ¶å°è¯•è¯•1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªä¼šæŠ¥ä»€ä¹ˆé”™
let reg2 = new RegExp('\\\\', 'g');
console.log(reg2); // /\\/g
console.log(reg2.test(str)); // true
```

### ä¸‰. æ­£åˆ™è¡¨è¾¾å¼ä¸­ç‰¹æ®Šå­—ç¬¦
#### 3.1 æ ‡å¿—å­—ç¬¦

| æ ‡å¿—å­—ç¬¦ | å«ä¹‰ |
|-|-|
| g | å…¨å±€åŒ¹é…ï¼Œæ‰¾åˆ°æ‰€æœ‰åŒ¹é…ï¼Œè€Œä¸æ˜¯åœ¨ç¬¬ä¸€ä¸ªåŒ¹é…ååœæ­¢ã€‚ |
| i | å¿½ç•¥å¤§å°å†™ã€‚ |
| m | å¤šè¡Œï¼Œå°†å¼€å§‹å’Œç»“æŸå­—ç¬¦ï¼ˆ^å’Œ$ï¼‰è§†ä¸ºåœ¨å¤šè¡Œä¸Šå·¥ä½œï¼ˆä¹Ÿå°±æ˜¯ï¼Œåˆ†åˆ«åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å§‹å’Œç»“æŸï¼ˆç”± \n æˆ– \r åˆ†å‰²ï¼‰ï¼Œè€Œä¸åªæ˜¯åªåŒ¹é…æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²çš„æœ€å¼€å§‹å’Œæœ€æœ«å°¾å¤„ã€‚ |
| u | ES6æ–°å¢ï¼ŒUnicodeï¼Œå°†æ¨¡å¼è§†ä¸ºUnicodeåºåˆ—ç‚¹çš„åºåˆ—ã€‚ |
| y | ES6æ–°å¢ï¼Œç²˜æ€§åŒ¹é…ï¼Œä»…åŒ¹é…ç›®æ ‡å­—ç¬¦ä¸²ä¸­æ­¤æ­£åˆ™è¡¨è¾¾å¼çš„lastIndexå±æ€§æŒ‡ç¤ºçš„ç´¢å¼•(å¹¶ä¸”ä¸å°è¯•ä»ä»»ä½•åç»­çš„ç´¢å¼•åŒ¹é…)ã€‚ |


#### 3.2 åŸºæœ¬å…ƒå­—ç¬¦

| åŸºæœ¬å…ƒå­—ç¬¦ | å«ä¹‰ |
|-|-|
| . | åŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ |
| \ | åœ¨éç‰¹æ®Šå­—ç¬¦ä¹‹å‰çš„åæ–œæ è¡¨ç¤ºä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯ç‰¹æ®Šçš„ï¼Œä¸èƒ½ä»å­—é¢ä¸Šè§£é‡Šã€‚ä¾‹å¦‚ï¼Œæ²¡æœ‰å‰`\`çš„`b`é€šå¸¸åŒ¹é…å°å†™`b`ï¼Œæ— è®ºå®ƒä»¬å‡ºç°åœ¨å“ªé‡Œã€‚å¦‚æœåŠ äº†`\`,è¿™ä¸ªå­—ç¬¦å˜æˆäº†ä¸€ä¸ªç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œåæ–œæ ä¹Ÿå¯ä»¥å°†å…¶åçš„ç‰¹æ®Šå­—ç¬¦ï¼Œè½¬ä¹‰ä¸ºå­—é¢é‡ã€‚ä¾‹å¦‚ï¼Œæ¨¡å¼`/a*/`ä»£è¡¨ä¼šåŒ¹é…0ä¸ªæˆ–è€…å¤šä¸ªaã€‚ç›¸åï¼Œæ¨¡å¼`/a\*/`å°†`*`çš„ç‰¹æ®Šæ€§ç§»é™¤ï¼Œä»è€Œå¯ä»¥åŒ¹é…åƒ`a*`è¿™æ ·çš„å­—ç¬¦ä¸²ã€‚ |
| | | é€»è¾‘æˆ–æ“ä½œç¬¦ã€‚ |
| [...] | å®šä¹‰ä¸€ä¸ªå­—ç¬¦é›†åˆï¼ŒåŒ¹é…å­—ç¬¦é›†åˆä¸­çš„ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨å­—ç¬¦é›†åˆé‡Œé¢åƒ`.`ï¼Œ`\`è¿™äº›å­—ç¬¦éƒ½è¡¨ç¤ºå…¶æœ¬èº«ã€‚ |
| [^...] | å¯¹ä¸Šé¢ä¸€ä¸ªé›†åˆå–éã€‚ |
| - | å®šä¹‰ä¸€ä¸ªåŒºé—´ï¼Œä¾‹å¦‚[A-Z]ï¼Œå…¶é¦–å°¾å­—ç¬¦åœ¨ ASCII å­—ç¬¦é›†é‡Œé¢ã€‚ |


#### 3.3 æ•°é‡å…ƒå­—ç¬¦

| é‡è¯ | å«ä¹‰ |
|-|-|
| * | ç­‰ä»·äº`{0,}`ï¼Œè¡¨ç¤ºå‡ºç°ä»»æ„æ¬¡ï¼Œå¯ä»¥ä¸å‡ºç°ã€‚ |
| + | ç­‰ä»·äº`{1,}`ï¼Œè¡¨ç¤ºè‡³å°‘å‡ºç°ä¸€æ¬¡ï¼Œä¸Šä¸å°é¡¶ã€‚ |
| ? | ç­‰ä»·äº`{0, 1}`è¡¨ç¤ºå‡ºç°ä¸€æ¬¡æˆ–é›¶æ¬¡ã€‚ |
| {m} | ç­‰ä»·äº`{m, m}`ï¼Œæ ‡å¿—æ­£å¥½å‡ºç°`m`æ¬¡ï¼Œä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘ã€‚ |
| {m,} | è¡¨ç¤ºè‡³å°‘å‡ºç°`m`æ¬¡ï¼Œä¸Šä¸å°é¡¶ã€‚ |



é‡è¯åé¢åŠ `?`å¯ä»¥å®ç°æƒ°æ€§åŒ¹é…ï¼Œå¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š

| è´ªå©ªé‡è¯ | æƒ°æ€§é‡è¯ |
|-|-|
| * | *? |
| + | +? |
| ? | ?? |
| {m} | {m}? |
| {m,} | {m,}? |


#### 3.4 é”šå­—ç¬¦ï¼ˆä½ç½®å…ƒå­—ç¬¦ï¼‰

| å­—ç¬¦ | å«ä¹‰ |
|-|-|
| ^ | å•ç‹¬ä½¿ç”¨åŒ¹é…è¡¨è¾¾å¼çš„å¼€å§‹ã€‚åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œåœ¨å¤šè¡Œæ£€ç´¢ä¸­ï¼ŒåŒ¹é…ä¸€è¡Œçš„å¼€å¤´ã€‚ |
| $ | åŒ¹é…è¡¨è¾¾å¼çš„ç»“æŸã€‚åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾ï¼Œåœ¨å¤šè¡Œæ£€ç´¢ä¸­ï¼ŒåŒ¹é…ä¸€è¡Œçš„ç»“å°¾ã€‚ |
| \b | åŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä½äºå­—ç¬¦\wå’Œå­—ç¬¦`\W`ä¹‹é—´çš„ä½ç½®ï¼Œæˆ–ä½äºå­—ç¬¦`\w`å’Œå­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾ä¹‹é—´çš„ä½ç½®ï¼ˆä½†éœ€è¦æ³¨æ„çš„æ˜¯åœ¨å­—ç¬¦ç»„å†…`[\b]`åŒ¹é…çš„æ˜¯é€€æ ¼ç¬¦ï¼‰ã€‚ |
| \B | åŒ¹é…éå•è¯è¾¹ç•Œã€‚ |
| (?=p) | åŒ¹é…`p`å‰é¢çš„ä½ç½®ã€‚é›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€ï¼Œè¦æ±‚æ¥ä¸‹æ¥çš„å­—ç¬¦éƒ½ä¸`p`åŒ¹é…ï¼Œä½†ä¸èƒ½åŒ…æ‹¬åŒ¹é…pçš„é‚£äº›å­—ç¬¦ã€‚ |
| (?!p) | åŒ¹é…ä¸æ˜¯`p`å‰é¢çš„ä½ç½®ã€‚é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€ï¼Œè¦æ±‚æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸ä¸`p`åŒ¹é…ã€‚ |


#### 3.5 ç‰¹æ®Šå…ƒå­—ç¬¦

| å­—ç¬¦ | å«ä¹‰ |
|-|-|
| \d | ç­‰ä»·äº`[0-9]`ï¼Œè¡¨ç¤ºä¸€ä½æ•°å­—sã€‚ |
| \D | ç­‰ä»·äº`[^0-9]`ï¼Œè¡¨ç¤ºä¸€ä½éæ•°å­—ã€‚é™¤äº†ASCâ…¡æ•°å­—ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ã€‚ |
| \s | ç­‰ä»·äº`[\t\v\n\r\f]`ï¼Œè¡¨ç¤ºç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œæ°´å¹³åˆ¶è¡¨ç¬¦`ï¼ˆ\tï¼‰`ï¼Œå‚ç›´åˆ¶è¡¨ç¬¦`ï¼ˆ\vï¼‰`ï¼Œæ¢è¡Œç¬¦`ï¼ˆ\n`ï¼‰ï¼Œå›è½¦ç¬¦`ï¼ˆ\rï¼‰`ï¼Œæ¢é¡µç¬¦`ï¼ˆ\fï¼‰`ã€‚ |
| \S | ç­‰ä»·äº`[^\t\v\n\r\f]`ï¼Œè¡¨ç¤ºéç©ºç™½ç¬¦ã€‚ |
| \w | ç­‰ä»·äº`[0-9a-zA-Z]`ï¼Œè¡¨ç¤ºæ•°å­—å¤§å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ã€‚ |
| \W | ç­‰ä»·äº`[^0-9a-zA-Z]`ï¼Œè¡¨ç¤ºéå•è¯å­—ç¬¦ã€‚ |


### å››. æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€äº›å±æ€§
#### 4.1 RegExp.lastIndex


* `lastIndex`æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªå¯è¯»å¯å†™çš„æ•´å‹å±æ€§ï¼Œç”¨æ¥æŒ‡å®šä¸‹ä¸€æ¬¡åŒ¹é…çš„èµ·å§‹ç´¢å¼•ã€‚

* åªæœ‰æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨äº†è¡¨ç¤ºå…¨å±€æ£€ç´¢çš„ "g" æ ‡å¿—æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šèµ·ä½œç”¨ã€‚




å¦‚æœ lastIndex å¤§äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™`regexp.test`å’Œ`regexp.exec`å°†ä¼šåŒ¹é…å¤±è´¥ï¼Œç„¶å lastIndex è¢«è®¾ç½®ä¸º 0ã€‚



å¦‚æœ lastIndex ç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸”è¯¥æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¯¥æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä» lastIndex å¼€å§‹çš„å­—ç¬¦ä¸²ã€‚



å¦‚æœ lastIndex ç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸”è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…ç©ºå­—ç¬¦ä¸² ï¼Œåˆ™è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…å­—ç¬¦ä¸²ï¼ŒlastIndex è¢«è®¾ç½®ä¸º 0ã€‚



å¦åˆ™ï¼ŒlastIndex è¢«è®¾ç½®ä¸ºç´§éšæœ€è¿‘ä¸€æ¬¡æˆåŠŸåŒ¹é…çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚


è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue jing ke tong xue';
let reg = /jing ke tong xue/g;
// lastIndexä»0å¼€å§‹
console.log(reg.lastIndex); // 0
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 16
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 33
// lastIndexå¯ä¿®æ”¹
reg.lastIndex = 0;
console.log(reg.lastIndex); // 0
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 16
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 33
console.log(reg.test(str)); // false
console.log(reg.lastIndex); // 50
console.log(reg.test(str));// true
console.log(reg.lastIndex); // 67
console.log(reg.test(str));// false
// ä¸Šä¸€æ¬¡åŒ¹é…å¤±è´¥ï¼ŒlastIndexé‡ç½®ä¸º0
console.log(reg.lastIndex); // 0
console.log(reg.test(str));// true
```

#### 4.2 RegExp.prototype.global


* `global`å±æ€§è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦ä½¿ç”¨äº† "g" æ ‡å¿—ã€‚

* `global`çš„å€¼æ˜¯å¸ƒå°”å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨äº† "g" æ ‡å¿—ï¼Œåˆ™è¿”å›`true`ï¼›å¦åˆ™è¿”å›`false`ã€‚ "g" æ ‡å¿—æ„å‘³ç€æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æµ‹è¯•å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¯èƒ½çš„åŒ¹é…ã€‚

* `global`æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å®ä¾‹çš„åªè¯»å±æ€§ã€‚`RegExp.prototype.global`çš„`writable`ã€`enumerable`ã€`configurable`å±æ€§å‡ä¸º`false`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg1 = /jing ke tong xue/;
console.log(reg1.global); // false.

let reg2 = /jing ke tong xue/g;
console.log(reg2.global); // true
```

#### 4.3 RegExp.prototype.ignoreCase


* `ignoreCase`å±æ€§è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦ä½¿ç”¨äº† "i" æ ‡å¿—ã€‚

* `ignoreCase`çš„å€¼æ˜¯å¸ƒå°”å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨äº†"i" æ ‡å¿—ï¼Œåˆ™è¿”å›`true`ï¼›å¦åˆ™ï¼Œè¿”å›`false`ã€‚"i"æ ‡å¿—æ„å‘³ç€åœ¨å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…æ—¶ï¼Œåº”è¯¥å¿½ç•¥å¤§å°å†™ã€‚
* `ignoreCase`æ˜¯æ­£åˆ™è¡¨è¾¾å¼å®ä¾‹çš„åªè¯»å±æ€§ã€‚`RegExp.prototype.ignoreCase`çš„`writable`ã€`enumerable`ã€`configurable`å±æ€§å‡ä¸º`false`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg1 = /jing ke tong xue/;
console.log(reg1.ignoreCase); // false.

let reg2 = /jing ke tong xue/i;
console.log(reg2.ignoreCase); // true
```

#### 4.4 RegExp.prototype.multiline


* `multiline`å±æ€§è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦ä½¿ç”¨äº† "m" æ ‡å¿—ã€‚

* `multiline`çš„å€¼æ˜¯å¸ƒå°”å¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨äº†"m" æ ‡å¿—ï¼Œåˆ™è¿”å›`true`ï¼›å¦åˆ™ï¼Œè¿”å›`false`ã€‚"m" æ ‡å¿—æ„å‘³ç€ä¸€ä¸ªå¤šè¡Œè¾“å…¥å­—ç¬¦ä¸²è¢«çœ‹ä½œå¤šè¡Œã€‚

* `multiline`æ˜¯æ­£åˆ™è¡¨è¾¾å¼å®ä¾‹çš„ä¸€ä¸ªåªè¯»å±æ€§ã€‚`RegExp.prototype.multiline`çš„`writable`ã€`enumerable`ã€`configurable`å±æ€§å‡ä¸º`false`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg1 = /jing ke tong xue/;
console.log(reg1.multiline); // false.

let reg2 = /jing ke tong xue/m;
console.log(reg2.multiline); // true
```

#### 4.5 RegExp.prototype.unicode


* `unicode`å±æ€§è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰"u" æ ‡å¿—ã€‚

* `unicode`çš„å€¼æ˜¯Booleanï¼Œå¹¶ä¸”å¦‚æœä½¿ç”¨äº† "u" æ ‡å¿—åˆ™ä¸º`true`ï¼›å¦åˆ™ä¸º`false`ã€‚"u" æ ‡å¿—å¼€å¯äº†å¤šç§Unicodeç›¸å…³çš„ç‰¹æ€§ã€‚ä½¿ç”¨ "u" æ ‡å¿—ï¼Œä»»ä½•Unicode ä»£ç ç‚¹çš„è½¬ä¹‰éƒ½ä¼šè¢«è§£é‡Šã€‚

* `unicode`æ˜¯æ­£åˆ™è¡¨è¾¾å¼ç‹¬ç«‹å®ä¾‹çš„åªè¯»å±æ€§ã€‚`RegExp.prototype.unicode`çš„`writable`ã€`enumerable`å±æ€§ä¸º`false`ï¼Œ`configurable`å±æ€§å‡ä¸º`true`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg1 = /jing ke tong xue/;
console.log(reg1.unicode); // false.

let reg2 = /jing ke tong xue/u;
console.log(reg2.unicode); // true
```


å†çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
// å®šä¹‰ä¸€ä¸ªå››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç çš„å­—ç¬¦
const str = '\uD83D\uDC2A';

let reg1 = /^\uD83D/;
// ES5ä¸æ”¯æŒå››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ï¼Œä¼šå°†å…¶è¯†åˆ«ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œæ•…è€Œè¾“å‡º true
console.log(reg1.test(str)); // true

let reg2 = /^\uD83D/u;
// åŠ äº†uä¿®é¥°ç¬¦ä»¥åï¼ŒES6 å°±ä¼šè¯†åˆ«å…¶ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œæ•…è€Œè¾“å‡ºfalse
console.log(reg2.test(str)); // false
```

#### 4.6 RegExp.prototype.sticky


* `sticky`å±æ€§è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼å¸¦æœ‰"y" æ ‡å¿—ã€‚

* `sticky`çš„å€¼æ˜¯`Boolean`ï¼Œå¹¶ä¸”å¦‚æœä½¿ç”¨äº†"y"æ ‡å¿—åˆ™ä¸º`true`ï¼›å¦åˆ™ä¸º`false`ã€‚"y" æ ‡å¿—æŒ‡ç¤ºæœç´¢æ˜¯å¦å…·æœ‰ç²˜æ€§ï¼Œä»…ä»æ­£åˆ™è¡¨è¾¾å¼çš„lastIndex å±æ€§è¡¨ç¤ºçš„ç´¢å¼•å¤„ä¸ºç›®æ ‡å­—ç¬¦ä¸²åŒ¹é…ï¼ˆå¹¶ä¸”ä¸ä¼šå°è¯•ä»åç»­ç´¢å¼•åŒ¹é…ï¼‰ã€‚

* `sticky`æ˜¯æ­£åˆ™è¡¨è¾¾å¼ç‹¬ç«‹å®ä¾‹çš„åªè¯»å±æ€§ã€‚`RegExp.prototype.sticky`çš„`writable`ã€`enumerable`å±æ€§ä¸º`false`ï¼Œ`configurable`å±æ€§å‡ä¸º`true`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg1 = /jing ke tong xue/;
console.log(reg1.sticky); // false.

let reg2 = /jing ke tong xue/y;
console.log(reg2.sticky); // true
```


å†çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
const str = 'test jing ke tong xue test jing ke tong xue';

let reg1 = /jing ke tong xue/;
// æ²¡æœ‰yæ ‡è¯†ç¬¦ï¼ŒlastIndexå§‹ç»ˆä¸º0ï¼Œä½†æ˜¯reg1å¹¶ä¸å…·æœ‰ç²˜æ€§ï¼Œå¹¶ä¸ä»lastIndexå·ä¸ºå¼€å§‹
console.log(reg1.lastIndex); // 0
console.log(reg1.test(str)); // true
reg1.lastIndex = 5;
console.log(reg1.lastIndex); // 5
console.log(reg1.test(str)); // true
// ç”±äºæ²¡æœ‰yæ ‡è¯†ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¹‹åï¼ŒlastIndexåˆè¢«é‡ç½®ä¸º0
console.log(reg1.lastIndex); // 0
console.log(reg1.test(str)); // true

let reg2 = /jing ke tong xue/y;
// ç¬¬ä¸€æ¬¡åŒ¹é…å°†ä»0å·ä½å¼€å§‹
console.log(reg2.lastIndex); // 0
console.log(reg2.test(str)); // false
// ç¬¬äºŒæ¬¡ä¸€æ¬¡åŒ¹é…å°†ä»5å·ä½å¼€å§‹
reg2.lastIndex = 5;
console.log(reg2.lastIndex); // 5
console.log(reg2.test(str)); // true
// ä¸‹ä¸€æ¬¡åŒ¹é…å°†ä»21å·ä½å¼€å§‹
console.log(reg2.lastIndex); // 21
console.log(reg2.test(str)); // false
// ä¸Šä¸€æ¬¡åŒ¹é…å¤±è´¥ï¼ŒlastIndexé‡ç½®ä¸º0ï¼›ä¸‹ä¸€æ¬¡åŒ¹é…å°†ä»0å·ä½å¼€å§‹
console.log(reg2.lastIndex); 
```

#### 4.7 RegExp.prototype.source


* `source`å±æ€§è¿”å›ä¸€ä¸ªå€¼ä¸ºå½“å‰æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ¨¡å¼æ–‡æœ¬çš„å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²ä¸ä¼šåŒ…å«æ­£åˆ™å­—é¢é‡ä¸¤è¾¹çš„æ–œæ ä»¥åŠä»»ä½•çš„æ ‡å¿—å­—ç¬¦ã€‚


è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg = /jing ke tong xue/gimuy;
console.log(reg.source); // jing ke tong xue
// sourceæ— æ³•è¢«ä¿®æ”¹ï¼Œä¸ä¼šç”Ÿæ•ˆ
reg.source = 'tong xue jing ke';
console.log(reg); // /jing ke tong xue/gimuy
```

#### 4.8 RegExp.prototype.flags


* `flags`ä¸º`ES6`æ–°å¢å±æ€§ï¼Œè¿”å›ä¸€ä¸ªç”±å½“å‰æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ ‡å¿—ç»„æˆçš„å­—ç¬¦ä¸²ã€‚

* æ ‡å¿—ä»¥å­—æ¯è¡¨é¡ºåºæ’åºã€‚ï¼ˆä»å·¦åˆ°å³`gimuy`ï¼‰ã€‚

* `flags`æ˜¯æ­£åˆ™è¡¨è¾¾å¼ç‹¬ç«‹å®ä¾‹çš„åªè¯»å±æ€§ã€‚`RegExp.prototype.flags`çš„`writable`ã€`enumerable`å±æ€§ä¸º`false`ï¼Œ`configurable`å±æ€§å‡ä¸º`true`ï¼Œæ— æ³•ç›´æ¥æ›´æ”¹æ­¤å±æ€§ã€‚



è¯·çœ‹å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š


```js
let reg = /jing ke tong xue/gimuy;
console.log(reg.flags); // jing ke tong xue
// flagsæ— æ³•è¢«ä¿®æ”¹ï¼Œä¸ä¼šç”Ÿæ•ˆ
reg.flags = 'g';
console.log(reg); // /jing ke tong xue/gimuy
```


flagså±æ€§ä¸ºES6æ–°å¢å±æ€§ï¼ŒES6ä»¥å‰å¯ç”¨å¦‚ä¸‹Polyfillã€‚


```js
if (RegExp.prototype.flags === undefined) {
  Object.defineProperty(RegExp.prototype, 'flags', {
    writable: false, // é»˜è®¤ä¸ºfalseï¼Œå†™ä¸Šä¾¿äºç†è§£
    enumerable: false, // é»˜è®¤ä¸ºfalseï¼Œå†™ä¸Šä¾¿äºç†è§£
    configurable: true,
    get: function() {
      return this.toString().match(/[gimuy]*$/)[0];
    }
  });
}
```

### äº”. æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€äº›æ–¹æ³•
#### 5.1 RegExp.prototype.test


* è¯­æ³•`reg.test(str)`ã€‚`str`ï¼šç”¨æ¥ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚

* `test()`æ–¹æ³•æ‰§è¡Œä¸€ä¸ªæ£€ç´¢ï¼Œç”¨æ¥æŸ¥çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ã€‚

* å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸²åŒ¹é… ï¼Œè¿”å›`true`ï¼Œå¦åˆ™`false`ã€‚




```js
const str = 'jing ke tong xue';
let reg1 = /^jing/;
// åˆ¤æ–­stræ˜¯ä¸æ˜¯ä»¥jingå¼€å¤´
console.log(reg1.test(str)); // true

let reg2 = /^ke/;
// åˆ¤æ–­stræ˜¯ä¸æ˜¯ä»¥keå¼€å¤´
console.log(reg2.test(str)); // fase
```


åœ¨è®¾ç½®æœ‰å…¨å±€æ ‡å¿—`g`çš„æ­£åˆ™ä½¿ç”¨testæ–¹æ³•ã€‚


å¦‚æœæ­£åˆ™è¡¨è¾¾å¼è®¾ç½®äº†å…¨å±€æ ‡å¿—ï¼Œtestæ–¹æ³•çš„æ‰§è¡Œä¼šæ”¹å˜æ­£åˆ™è¡¨è¾¾å¼çš„ lastIndex å±æ€§ã€‚è¿ç»­çš„æ‰§è¡Œtestæ–¹æ³•ï¼Œåç»­çš„æ‰§è¡Œå°†ä¼šä» lastIndex å¤„å¼€å§‹åŒ¹é…å­—ç¬¦ä¸²ã€‚å¦‚æœ test æ–¹æ³•è¿”å›åŒ¹é…å¤±è´¥ falseï¼ŒlastIndex å±æ€§å°†ä¼šè¢«é‡ç½®ä¸º0ã€‚



```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue';
let reg = /jing ke/g;

console.log(reg.lastIndex); // 0
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 7
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 24
console.log(reg.test(str)); // true
console.log(reg.lastIndex); // 41
console.log(reg.test(str)); // false
console.log(reg.lastIndex); // 0
```

#### 5.2 RegExp.prototype.exec


* è¯­æ³•`reg.exec(str)`ã€‚`str`ï¼šè¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚`exec()`æ–¹æ³•åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ã€‚è¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ–`null`ã€‚

* å¦‚æœåŒ¹é…æˆåŠŸï¼Œ`exec()`æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æ›´æ–°æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„å±æ€§ã€‚è¿”å›çš„æ•°ç»„å°†å®Œå…¨åŒ¹é…æˆåŠŸçš„æ–‡æœ¬ä½œä¸ºç¬¬ä¸€é¡¹ï¼Œå°†æ­£åˆ™æ‹¬å·é‡ŒåŒ¹é…æˆåŠŸçš„ä½œä¸ºæ•°ç»„å¡«å……åˆ°åé¢ã€‚

* å¦‚æœåŒ¹é…å¤±è´¥ï¼Œ`exec()`æ–¹æ³•è¿”å›`null`ã€‚




ğŸ’¥å¦‚æœä½ åªæ˜¯éœ€è¦ç¬¬ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œä½ å¯èƒ½æƒ³è¦ä½¿ç”¨ RegExp.exec() ã€‚



ğŸ’¥å¦‚æœä½ æƒ³è¦è·å¾—æ•è·ç»„ï¼Œå¹¶ä¸”è®¾ç½®äº†å…¨å±€æ ‡å¿—ï¼Œä½ éœ€è¦ç”¨ String.prototype.match() ã€‚



```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue';
let reg = /jing ke/g;

console.log(reg.lastIndex); // 0
console.log(reg.exec(str)); // ["jing ke", index: 0, input: "jing ke tong xue jing ke tong xue jing ke tong xue", groups: undefined]
console.log(reg.lastIndex); // 7
console.log(reg.exec(str)); // ["jing ke", index: 17, input: "jing ke tong xue jing ke tong xue jing ke tong xue", groups: undefined]
console.log(reg.lastIndex); // 24
console.log(reg.exec(str)); // ["jing ke", index: 34, input: "jing ke tong xue jing ke tong xue jing ke tong xue", groups: undefined]
console.log(reg.lastIndex); // 41
console.log(reg.exec(str)); // null
console.log(reg.lastIndex); // 0
```


ä»ä¸Šè¿°ä»£ç çœ‹å‡ºï¼Œåœ¨ä½¿ç”¨execæ—¶ï¼Œç»å¸¸éœ€è¦é…åˆä½¿ç”¨whileå¾ªç¯ä½¿ç”¨ï¼š


```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue';
let reg = /jing ke/g;

let result;
// å½“reg.exec(str)è¿”å›nullæ—¶ç»“æŸå¾ªç¯ï¼Œä¸ä¸Šé¢ä»£ç ç»“æœä¸€è‡´
while (result = reg.exec(str)) {
    console.log(`result: ${result}`, `\nindex: ${result.index}`, `\nlastIndex: ${reg.lastIndex}`, `\ninput: ${result.input}`);
}

// result: jing ke 
// index: 0 
// lastIndex: 7 
// input: jing ke tong xue jing ke tong xue jing ke tong xue
// index.html:132 result: jing ke 

// index: 17 
// lastIndex: 24 
// input: jing ke tong xue jing ke tong xue jing ke tong xue
// index.html:132 result: jing ke 

// index: 34 
// lastIndex: 41 
// input: jing ke tong xue jing ke tong xue jing ke tong xue
```

#### 5.2 RegExp.prototype.toString


* è¯­æ³•`reg.toString()`
* `toString()`è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚

* `RegExp`å¯¹è±¡è¦†ç›–äº†`Object`å¯¹è±¡çš„`toString()`æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰ç»§æ‰¿`Object.prototype.toString()`ã€‚å¯¹äº`RegExp`å¯¹è±¡ï¼Œ`toString()`æ–¹æ³•è¿”å›ä¸€ä¸ªè¯¥æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å½¢å¼ï¼ŒåŒæ—¶ä¼šå°†flagså±æ€§æŒ‰ç…§å­—æ¯è¡¨é¡ºåºé‡æ’ã€‚




```js
let reg = /jing ke tong xue/yguim;
console.log(reg.toString()); // /jing ke tong xue/gimuy
```

### å…­. 4ç§é€‚ç”¨äºæ¨¡å¼åŒ¹é…çš„Stringæ–¹æ³•


è¿™é‡Œä»‹ç»çš„4ç§Stringæ–¹æ³•åªæ˜¯å’Œæ¨¡å¼åŒ¹é…ç›¸å…³çš„å†…å®¹ï¼Œä¸æ¨¡å¼åŒ¹é…ä¸ç›¸å…³çš„å†…å®¹ä¸‹é¢å¹¶ä¸ä¼šæåŠï¼Œ[å¦‚æœæƒ³äº†è§£æ›´å¤šè¯·ç§»æ­¥è¿™é‡Œ][100]ã€‚


#### 6.1 String.prototype.search


* è¯­æ³•`str.search(regexp)`ã€‚


`regexp`ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆ`regular expression`ï¼‰å¯¹è±¡ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šä½¿ç”¨`new RegExp(obj)`éšå¼åœ°å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚


* `search()`æ–¹æ³•æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼å’Œ Stringå¯¹è±¡ä¹‹é—´çš„ä¸€ä¸ªæœç´¢åŒ¹é…ã€‚å½“ä½ æƒ³è¦çŸ¥é“å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªæ¨¡å¼ï¼ˆ`pattern`ï¼‰æ—¶å¯ä½¿ç”¨`search`ï¼Œç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼çš„`test`æ–¹æ³•ã€‚

* å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ search() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ã€‚å¦åˆ™ï¼Œè¿”å› -1ã€‚




ğŸ’¥å¦‚æœä½ éœ€è¦çŸ¥é“ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼`RegExp`ï¼Œå¯ä½¿ç”¨`search()`ã€‚



```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue jing ke tong xue';
let reg = /jing ke tong xue/g;
console.log(str.search(reg)); // 0

// ç”±äºæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™å–œæ¬¢ç”¨trueæˆ–false, æ”¹é€ å¦‚ä¸‹, è¯¦æƒ…è¯·è‡ªè¡Œå­¦ä¹ JavaScriptä½(~)è¿ç®—ç¬¦
console.log(!!~str.search(reg)); // true
```

#### 6.2 String.prototype.match


* è¯­æ³•`str.match(regexp)`ã€‚


`regexp`ï¼šä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨`new RegExp(obj)`å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª`RegExp`ã€‚å¦‚æœä½ æœªæä¾›ä»»ä½•å‚æ•°ï¼Œç›´æ¥ä½¿ç”¨`match()`ï¼Œé‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„`Array ï¼š[""]`ã€‚


* å½“ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¶ï¼Œ`match()`æ–¹æ³•æ£€ç´¢åŒ¹é…é¡¹ã€‚å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸åŒ…å«`g`æ ‡å¿—ï¼Œåˆ™`str.match()`ä¼šè¿”å›å’Œ`RegExp.exec()`ç›¸åŒçš„ç»“æœã€‚è€Œä¸”è¿”å›çš„`Array`æ‹¥æœ‰ä¸€ä¸ªé¢å¤–çš„`input`å±æ€§ï¼Œè¯¥å±æ€§åŒ…å«è¢«è§£æçš„åŸå§‹å­—ç¬¦ä¸²ã€‚å¦å¤–ï¼Œè¿˜æ‹¥æœ‰ä¸€ä¸ª index å±æ€§ï¼Œè¯¥å±æ€§è¡¨ç¤ºåŒ¹é…ç»“æœåœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ï¼ˆä»¥0å¼€å§‹ï¼‰ã€‚

* å¦‚æœæ­£åˆ™è¡¨è¾¾å¼åŒ…å«`g`æ ‡å¿—ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª`Array`ï¼Œå®ƒåŒ…å«æ‰€æœ‰åŒ¹é…çš„å­å­—ç¬¦ä¸²è€Œä¸æ˜¯åŒ¹é…å¯¹è±¡ã€‚æ•è·ç»„ä¸ä¼šè¢«è¿”å›(å³ä¸è¿”å›`index`å±æ€§å’Œ`input`å±æ€§)ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œåˆ™è¿”å›`null`ã€‚



åœ¨ä¸‹ä¾‹ä¸­ï¼Œä½¿ç”¨`match`æŸ¥æ‰¾ "March" ç´§è·Ÿç€ 1 ä¸ªæˆ–å¤šä¸ªæ•°å€¼å­—ç¬¦ï¼Œå†ç´§è·Ÿç€ä¸€ä¸ªé€—å·â€œ,â€ï¼Œå†ç´§è·Ÿç€ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ï¼Œæ¥ç€è·Ÿç€4ä¸ªæ•°å€¼å­—ç¬¦ã€‚æ­£åˆ™è¡¨è¾¾å¼åŒ…å« i æ ‡å¿—ï¼Œå› æ­¤å¤§å°å†™ä¼šè¢«å¿½ç•¥ã€‚ç¬¬äºŒä¸ªåŒ…å« g æ ‡å¿—ä¼šè¿›è¡Œå…¨å±€åŒ¹é…ã€‚


```js
// å•Šï¼Œåœ¨2018å¹´3æœˆ31æ—¥çš„ä¸‹åˆï¼Œè¯—æ€§å¤§å‘ï¼Œèµ‹è¯—ä¸¤å¥ğŸ˜
// ğŸ™ˆä¸€æ”¯ç©¿äº‘ç®­, åƒå†›ä¸‡é©¬æ¥ç›¸è§ğŸ™ˆ
const str = 'In March 31, 2018, An arrow through the clouds to meet thousands upon thousands of horses and soldiers, In March 31, 2018';
let reg1 = /In (march \d+, (\d{4}))/i;
let match1 = str.match(reg1);
console.log(match1);
// ä»¥ä¸‹æ˜¯logså†…å®¹
// => [
// =>   "In March 31, 2018",
// =>   "March 31, 2018",
// =>   "2018",
// =>   index: 0,
// =>   input: "In March 31, 2018, An arrow through the clouds to meet thousands upon thousands of horses and soldiers.",
// =>   groups: undefined
// => ]

// ğŸ“’é‡Šç–‘ğŸ“Œ
// "In March 31, 2018" æ˜¯æ•´ä¸ªåŒ¹é…
// "March 31, 2018" æ˜¯è¢«(March \d+, (\d*))æ•è·çš„å†…å®¹
// "2018" æ˜¯è¢«(\d{4}) æ•è·çš„å†…å®¹
// index: 0 åŒ¹é…å¼€å§‹çš„ç´¢å¼•
// input: ... æ˜¯è¢«è§£æçš„åŸå§‹å­—ç¬¦ä¸² 

// è¿™ä¸ªå’Œä¸Šé¢çš„å·®åˆ«å°±æ˜¯flagså¤šäº†ä¸ªgæ ‡è¯†ç¬¦
let reg2 = /In (march \d+, (\d{4}))/ig;
let match2 = str.match(reg2);
// å¤šäº†ä¸€ä¸ªæ ‡è¯†ç¬¦,è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«åŒ¹é…å­—ç¬¦çš„æ•°ç»„
console.log(match2); // ["In March 31, 2018", "In March 31, 2018"]
```


å·å¤–ï¼Œ`match`æ–¹æ³•é™¤äº†æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜æ”¯æŒéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚


```js
// è¿™ä¸ªä¾‹å­å°±ä¸ç»™ç­”æ¡ˆäº†ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œæœ‰å¿ƒçš„åŒå­¦è¯·åœ¨æ§åˆ¶å°è¾“å‡ºç»“æœæŸ¥çœ‹åŒºåˆ«ğŸ˜„
const str1 = "NaN means not a number. Infinity contains -Infinity and +Infinity in JavaScript.";
const str2 = "4 is 4, 10 is 10, 14 is 14, 40 is 40.";
const str3 = "The contract was declared null and void.";
console.log(str1.match("number"));
console.log(str1.match("NaN"));
console.log(str1.match(NaN));
console.log(str1.match("Infinity"));
console.log(str1.match(Infinity));
console.log(str1.match(+Infinity));
console.log(str1.match(-Infinity));
console.log(str2.match("10"));
console.log(str2.match(10));
console.log(str2.match("-10"));
console.log(str2.match(-10));
console.log(str2.match("+10"));
console.log(str2.match(+10));
console.log(str3.match("null"));
console.log(str3.match(null));
```

#### 6.3 String.prototype.split


* è¯­æ³•`str.split([separator[, limit]])`ã€‚


`separator`: æŒ‡å®šè¡¨ç¤ºæ¯ä¸ªæ‹†åˆ†åº”å‘ç”Ÿçš„ç‚¹çš„å­—ç¬¦ä¸²ã€‚separator å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚ å¦‚æœçº¯æ–‡æœ¬åˆ†éš”ç¬¦åŒ…å«å¤šä¸ªå­—ç¬¦ï¼Œåˆ™å¿…é¡»æ‰¾åˆ°æ•´ä¸ªå­—ç¬¦ä¸²æ¥è¡¨ç¤ºåˆ†å‰²ç‚¹ã€‚å¦‚æœåœ¨strä¸­çœç•¥æˆ–ä¸å‡ºç°åˆ†éš”ç¬¦ï¼Œåˆ™è¿”å›çš„æ•°ç»„åŒ…å«ä¸€ä¸ªç”±æ•´ä¸ªå­—ç¬¦ä¸²ç»„æˆçš„å…ƒç´ ã€‚å¦‚æœåˆ†éš”ç¬¦ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™å°†stråŸå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„æ•°ç»„å½¢å¼è¿”å›ã€‚


`limit`: ä¸€ä¸ªæ•´æ•°ï¼Œé™å®šè¿”å›çš„åˆ†å‰²ç‰‡æ®µæ•°é‡ã€‚å½“æä¾›æ­¤å‚æ•°æ—¶ï¼Œsplit æ–¹æ³•ä¼šåœ¨æŒ‡å®šåˆ†éš”ç¬¦çš„æ¯æ¬¡å‡ºç°æ—¶åˆ†å‰²è¯¥å­—ç¬¦ä¸²ï¼Œä½†åœ¨é™åˆ¶æ¡ç›®å·²æ”¾å…¥æ•°ç»„æ—¶åœæ­¢ã€‚å¦‚æœåœ¨è¾¾åˆ°æŒ‡å®šé™åˆ¶ä¹‹å‰è¾¾åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œå®ƒå¯èƒ½ä»ç„¶åŒ…å«å°‘äºé™åˆ¶çš„æ¡ç›®ã€‚æ–°æ•°ç»„ä¸­ä¸è¿”å›å‰©ä¸‹çš„æ–‡æœ¬ã€‚

`split`æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚ç¬¬ä¸€ä¸ªæ˜¯ç”¨æ¥åˆ†å‰²å­—ç¬¦ä¸²çš„å­—ç¬¦æˆ–è€…æ­£åˆ™ï¼Œå¦‚æœæ˜¯ç©ºå­—ç¬¦ä¸²åˆ™ä¼šå°†å…ƒå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ä»¥æ•°ç»„å½¢å¼è¿”å›ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é€‰ä½œä¸ºé™åˆ¶åˆ†å‰²å¤šå°‘ä¸ªå­—ç¬¦ï¼Œä¹Ÿæ˜¯è¿”å›çš„æ•°ç»„çš„é•¿åº¦é™åˆ¶ã€‚æœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œç”¨æ•è·æ‹¬å·çš„æ—¶å€™ä¼šå°†åŒ¹é…ç»“æœä¹ŸåŒ…å«åœ¨è¿”å›çš„æ•°ç»„ä¸­ã€‚


```js
const str = 'jing ke tong xue jing ke tong xue jing ke tong xue';
let reg1 = /\s/;
console.log(str.split(reg1));
// => ["jing", "ke", "tong", "xue", "jing", "ke", "tong", "xue", "jing", "ke", "tong", "xue"]
console.log(str.split(" "));
// => ["jing", "ke", "tong", "xue", "jing", "ke", "tong", "xue", "jing", "ke", "tong", "xue"]

let reg2 = /\s+(tong)\s+/;
console.log(str.split(reg2));
// => ["jing ke", "tong", "xue jing ke", "tong", "xue jing ke", "tong", "xue"]

let reg3 = /\s+tong\s+/;
console.log(str.split(reg3));
// => ["jing ke", "xue jing ke", "xue jing ke", "xue"]

console.log(str.split(' tong '));
// => ["jing ke", "xue jing ke", "xue jing ke", "xue"]
```

#### 6.4 String.prototype.replace
 **` è¯¥æ–¹æ³•å¹¶ä¸æ”¹å˜è°ƒç”¨å®ƒçš„å­—ç¬¦ä¸²æœ¬èº«ï¼Œè€Œåªæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚ `** 
 **` åœ¨è¿›è¡Œå…¨å±€çš„æœç´¢æ›¿æ¢æ—¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼éœ€åŒ…å« g æ ‡å¿—ã€‚ `** 


* è¯­æ³•`str.replace(regexp|substr, newSubStr|function)`ã€‚


`regexp (pattern)`: ä¸€ä¸ªRegExp å¯¹è±¡æˆ–è€…å…¶å­—é¢é‡ã€‚è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰ã€‚


`substr (pattern)`: ä¸€ä¸ªè¦è¢« newSubStr æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚å…¶è¢«è§†ä¸ºä¸€æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ä»…ä»…æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…ä¼šè¢«æ›¿æ¢ã€‚


`newSubStr (replacement)`: ç”¨äºæ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡åã€‚å‚è€ƒä¸‹é¢çš„ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚


`function (replacement)`: ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…åˆ°çš„ç»“æœã€‚å‚è€ƒä¸‹é¢çš„æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚

`replace`æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¦è¢«æ›¿æ¢çš„æ–‡æœ¬ï¼Œå¯ä»¥æ˜¯æ­£åˆ™ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²çš„æ—¶å€™ä¸ä¼šè¢«è½¬æ¢æˆæ­£åˆ™ï¼Œè€Œæ˜¯ä½œä¸ºæ£€ç´¢çš„ç›´æ¥é‡æ–‡æœ¬ã€‚ç¬¬äºŒä¸ªæ˜¯æ›¿æ¢æˆçš„æ–‡æœ¬ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…å‡½æ•°ï¼Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„å˜é‡æ¥æ›¿ä»£å‰é¢æ•è·åˆ°çš„å­ä¸²ã€‚è¿”å›ä¸€ä¸ªéƒ¨åˆ†æˆ–å…¨éƒ¨åŒ¹é…ç”±æ›¿ä»£æ¨¡å¼æ‰€å–ä»£çš„æ–°çš„å­—ç¬¦ä¸²ã€‚

å¦‚æœä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°æ—¶æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥æ’å…¥ä¸‹é¢çš„ç‰¹æ®Šå˜é‡åï¼š

| å˜é‡å | ä»£è¡¨çš„å€¼ |
|-|-|
| `$$` | æ’å…¥ä¸€ä¸ª "$"ã€‚ |
| `$&` | æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚ |
| $` | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚ |
| `$'` | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚ |
| $n | å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ RegExpå¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ |


å¦‚æœæ˜¯å‡½æ•°çš„è¯ï¼Œå½“åŒ¹é…æ‰§è¡Œåï¼Œ è¯¥å‡½æ•°å°±ä¼šæ‰§è¡Œã€‚ å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºæ›¿æ¢å­—ç¬¦ä¸²ã€‚å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ å¹¶ä¸”å…¶ä¸ºå…¨å±€åŒ¹é…æ¨¡å¼ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°†è¢«å¤šæ¬¡è°ƒç”¨ï¼Œ æ¯æ¬¡åŒ¹é…éƒ½ä¼šè¢«è°ƒç”¨ã€‚

| å˜é‡å | ä»£è¡¨çš„å€¼ |
|-|-|
| match | åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&ã€‚ï¼‰ |
| p1, p2, ... | å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªRegExp å¯¹è±¡ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$1ï¼Œ$2ç­‰ã€‚ï¼‰ |
| offset | åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯â€œabcdâ€ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯â€œbcâ€ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†æ˜¯1ï¼‰ |
| string | è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚ |



```js
const str = '2018-03-31';
let reg = /^(\d{4})\D(\d{2})\D(\d{2})$/;
function replacer (match, p1, p2, p3, offset, string) {
    console.log([match, p1, p2, p3, offset, string]);
    return [p1, p2, p3].join('/')
}
console.log(str.replace(reg, replacer));

// => ["2018-03-31", "2018", "03", "31", 0, "2018-03-31"]
// => 2018/03/31
```


ç”±äºå†…å®¹æ¯”è¾ƒå¤šï¼Œæ–‡ç« å†™çš„å¤ªé•¿ä¹Ÿä¸ä¾¿äºé˜…è¯»ï¼Œæ‰€ä»¥æœ¬ç¯‡è‡³æ­¤ç»“æŸã€‚åé¢ä¼°è®¡è¿˜æœ‰ä¸¤ç¯‡å®Œç»“ï¼Œåˆ°æ—¶å€™è¡¥äº†å†æ›´ã€‚


* **` ç¬¬ä¸€ç¯‡å®Œç»“(å°±æ˜¯æœ¬æ–‡): JavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€ `** 
* **` [ç¬¬äºŒç¯‡å¾…æ›´ï¼šJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(äºŒ) - æ‰“æ€ªå‡çº§][101] `** 
* **` ç¬¬ä¸‰ç¯‡å¾…æ›´ï¼šJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸‰) - ç»ˆç«  `** 


[0]: https://user-gold-cdn.xitu.io/2018/4/3/1628b0817338d1f1?imageView2/0/w/1280/h/960/format/webp/ignore-error/1
[100]: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String
[101]: https://juejin.im/post/5ac971bb6fb9a028bf059372