## JavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(äºŒ) - æ‰“æ€ªå‡çº§

æ¥æºï¼š[http://www.cnblogs.com/sunjingke/p/8961324.html](http://www.cnblogs.com/sunjingke/p/8961324.html)

2018-04-27 10:55

![][0]


æœ¬æ–‡æ¥ä¸Šç¯‡ï¼ŒåŸºç¡€éƒ¨åˆ†ç›¸å¯¹è–„å¼±çš„åŒå­¦è¯·ç§»æ­¥[ã€ŠJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€ã€‹][100]ã€‚ä¸Šæ–‡ä»‹ç»äº† **`8`** ç§JavaScriptæ­£åˆ™è¡¨è¾¾å¼çš„å±æ€§ï¼Œæœ¬æ–‡è¿˜ä¼šè¿½åŠ ä»‹ç»å‡ ç§JavaScriptæ­£åˆ™è¡¨è¾¾å¼çš„å±æ€§(æ³¨æ„æ˜¯éæ ‡å‡†å±æ€§ï¼Œä½†å¾ˆå¥½ç”¨)ã€‚


### ä¸€. ä¸Šæ–‡å›é¡¾


æœ¬æ–‡ä¼šç”¨åˆ°ä¸Šç¯‡æ–‡ç« éƒ¨åˆ†å†…å®¹ï¼Œæ‰€ä»¥ç®€å•å›é¡¾ä¸‹ã€‚


#### 1.1 JavaScriptæ­£åˆ™è¡¨è¾¾å¼æ ‡å¿—ç¬¦


* `g`: å…¨å±€åŒ¹é…ï¼Œå³æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„ã€‚å¯¹åº”å±æ€§`RegExp#global`ã€‚

* `i`: å¿½ç•¥å­—æ¯å¤§å°å†™ã€‚å¯¹åº”å±æ€§`RegExp#ingoreCase`ã€‚

* `m`: å¤šè¡ŒåŒ¹é…ï¼Œåªå½±å“^å’Œ$ï¼ŒäºŒè€…å˜æˆè¡Œçš„æ¦‚å¿µï¼Œå³è¡Œå¼€å¤´å’Œè¡Œç»“å°¾ã€‚å¯¹åº”å±æ€§`RegExp#multiline`ã€‚

* `u`: ES6æ–°å¢ã€‚å«ä¹‰ä¸ºâ€œUnicode æ¨¡å¼â€ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº\uFFFFçš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ã€‚å¯¹åº”å±æ€§`RegExp#unicode`ã€‚

* `y`: ES6æ–°å¢ã€‚yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸gä¿®é¥°ç¬¦ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼Œåä¸€æ¬¡åŒ¹é…éƒ½ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œgä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯ï¼Œè€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿â€çš„æ¶µä¹‰ã€‚å¯¹åº”å±æ€§`RegExp#sticky`ã€‚



#### 1.2 é€‚ç”¨äºJavascriptæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•

ä¸Šç¯‡æ–‡ç« [ã€ŠJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€ã€‹][100]ä»‹ç»äº†é€‚ç”¨äºJavaScriptæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…çš„ç›¸å…³APIå…±æœ‰ **`6`** ç§ï¼Œ`RexExp`æä¾›2ä¸ªï¼Œ`String`æä¾›4ä¸ªï¼Œå¦‚ä¸‹ï¼š


```
1. RegExp#test    // é€‚ç”¨äºï¼šéªŒè¯ã€æå–
2. RegExp#exec    // é€‚ç”¨äºï¼šéªŒè¯ã€æå–
3. String#search  // é€‚ç”¨äºï¼šéªŒè¯ã€æå–
4. String#match   // é€‚ç”¨äºï¼šéªŒè¯ã€æå–
5. String#split   // é€‚ç”¨äºï¼šåˆ‡åˆ†
6. String#replace // é€‚ç”¨äºï¼šæå–ã€æ›¿æ¢
```

### äºŒ. JavaScriptæ­£åˆ™è¡¨è¾¾å¼çš„å››ç§æ“ä½œ

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼, å…¶æ ¸å¿ƒå†…å®¹ä¾¿æ˜¯æ¨¡å¼åŒ¹é…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºè¿›è¡Œé‚£ç§æ“ä½œï¼Œé¦–å…ˆè¦æœ‰æ¨¡å¼åŒ¹é…ï¼Œæœ‰äº†æ¨¡å¼åŒ¹é…ä¹‹åï¼Œæ‰èƒ½è¿›è¡ŒéªŒè¯ã€æ›¿æ¢ã€åˆ‡åˆ†ã€æå–è¿™å››ç§æ“ä½œã€‚
#### 2.1 éªŒè¯

éªŒè¯åº”è¯¥æ˜¯å‰ç«¯ç¨‹åºå‘˜å†™æ­£åˆ™è¡¨è¾¾å¼ç”¨çš„æœ€å¤šçš„æ–¹æ³•å§ï¼Œæ¯”å¦‚è¡¨å•éªŒè¯ä¹‹ç±»çš„ã€‚å¯ä»¥å®ç°éªŒè¯çš„æ–¹æ³•æœ‰4ç§ã€‚

å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œå…‰ç»ƒä¸è¯´å‚»æŠŠå¼ï¼Œåˆç»ƒåˆè¯´æ‰æ˜¯çœŸæŠŠå¼ğŸ’ªã€‚é‚£ä¹ˆï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ğŸŒ°ï¼š
##### 2.1.1 ä½¿ç”¨`test`æ–¹æ³•

å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸æŒ‡å®šçš„å­—ç¬¦ä¸²åŒ¹é… ï¼Œè¿”å›trueï¼Œå¦åˆ™falseã€‚å¾—åˆ°çš„ç»“æœå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚


```js
const str = 'jing ke tong xue 666';

let reg1 = /\d{4}/;
let res1 = reg1.test(str);
console.log(res1);
// => false

let reg2 = /ke/;
let res2 = reg2.test(str);
console.log(res2);
// => true

let reg3 = /\d{3}/;
let res3 = reg3.test(str);
console.log(res3);
// => true
```


ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªåŒ¹é…èº«ä»½è¯çš„ç¤ºä¾‹ï¼š


```js
const str1 = '411199909096896';
const str2 = '411425199909096896';
const str3 = '41142519990909689x';
const str4 = '41142519990909689X';
const reg = /^(\d{15}|\d{17}[\dxX])$/;
let res1 = reg.test(str1);
let res2 = reg.test(str2);
let res3 = reg.test(str3);
let res4 = reg.test(str4);
console.log(res1, res2, res3, res4);
// => true true true true
```


ä¸è¿‡å¥½åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šå¯è§†åŒ–å·¥å…·ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œçœ‹ä¸€ä¸‹ä¸‹å›¾å¯èƒ½å°±è±ç„¶å¼€æœ—ã€‚

![][1]

çœ‹å›¾åˆ†æï¼šè¿™é‡Œç«–æ `|`çš„ä¼˜å…ˆçº§æœ€ä½ï¼Œæ‰€ä»¥æ­£åˆ™åˆ†æˆäº†ä¸¤éƒ¨åˆ†`\d{15}`å’Œ`\d{17}[\dxX]`

* `\d{15}`è¡¨ç¤º15ä½è¿ç»­æ•°å­—

* `\d{17}[\dxX]`è¡¨ç¤º17ä½è¿ç»­æ•°å­—ï¼Œæœ€åä¸€ä½å¯ä»¥æ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥å¤§å†™æˆ–å°å†™å­—æ¯ "x"



ä¸‹é¢æˆ‘ä»¬å†çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„æ¡ˆä¾‹ï¼ŒåŒ¹é…IPV4åœ°å€ï¼š


```js
const str = '192.168.0.1';
let reg = /^((0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])$/;
let res = reg.test(str);
console.log(res);
// => true
```


ä¸Šé¢é‚£ä¸ªæ­£åˆ™è¡¨è¾¾å¼åˆçœ‹èµ·æ¥æœ‰ç‚¹å“äººå“ˆğŸ™ˆï¼Œè¿™å°±æ˜¯ä¼ è¯´ä¸­çš„å†™æ­£åˆ™ä¸éš¾ï¼Œè¯»æ­£åˆ™éš¾ã€‚å…ˆçœ‹ä¸‹é¢å¯è§†åŒ–è§†å›¾ï¼š

![][2]

æ­¤æ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š
`((â€¦)\.){3}(â€¦)`ä¸¤ä¸ª(...)æ˜¯ç›¸åŒçš„å†…å®¹ï¼Œå› æ­¤æ–‡å­—æè¿°ä¸º`3ä½æ•°å­—.3æ•°å­—.3ä½æ•°å­—.3ä½æ•°å­—`ã€‚

ä¸‹é¢æˆ‘ä»¬å…·ä½“åˆ†æ`(...)`ä¹Ÿå°±æ˜¯`(0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])`ï¼Œå•ç‹¬çœ‹ä¸€ä¸‹è¿™æ®µä»£ç çš„å¯è§†åŒ–è§†å›¾ï¼š

![][3]

çœ‹å›¾åˆ†æï¼Œå®ƒæ˜¯ä¸€ä¸ªå¤šé€‰ç»“æ„ï¼Œåˆ†æˆ5ä¸ªéƒ¨åˆ†ï¼š


* `0{0,2}\d`: åŒ¹é…ä¸€ä½æ•°ï¼ŒåŒ…æ‹¬ "0" è¡¥é½çš„ã€‚æ¯”å¦‚ï¼Œ"9"ã€"09"ã€"009"

* `0?\d{2}`: åŒ¹é…ä¸¤ä½æ•°ï¼ŒåŒ…æ‹¬ "0" è¡¥é½çš„ï¼Œä¹ŸåŒ…æ‹¬ä¸€ä½æ•°

* `1\d{2}`: åŒ¹é… "100" åˆ° "199"

* `2[0-4]\d`: åŒ¹é… "200" åˆ° "249"

* `25[0-5]`: åŒ¹é… "250" åˆ° "255"



ä¸è¦è¢«çœ‹èµ·æ¥å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼å“åˆ°ï¼Œä¹çœ‹èµ·æ¥å¤æ‚çš„ä¸è¦ä¸è¦çš„ï¼Œé‚£æˆ‘ä»¬å°±æŠŠå®ƒåƒæ´‹è‘±ä¸€æ ·ï¼Œä¸€å±‚ä¸€å±‚å‰¥å¼€å®ƒçš„å¿ƒï¼Œæ‹¥æŠ±å®ƒï¼Œç„¶åæ‰’å…‰å®ƒã€‚
##### 2.1.2 ä½¿ç”¨`exec`æ–¹æ³•

å¦‚æœåŒ¹é…æˆåŠŸï¼Œè¿”å›ä¸€ä¸ª`Array`ï¼Œå¦åˆ™è¿”å›nullã€‚å¾—åˆ°çš„ç»“æœä¸¤æ¬¡å–åå–å¾—trueæˆ–è€…falseä½¿ç”¨ã€‚


```js
const str = 'jing ke tong xue 666';

let reg1 = /\d{4}/;
let res1 = reg1.exec(str);
console.log(res1);
console.log(!!res1);
// => null
// => false

let reg2 = /ke/;
let res2 = reg2.exec(str);
console.log(res2);
console.log(!!res2);
// => ["ke", index: 5, input: "jing ke tong xue 666", groups: undefined]
// => true

let reg3 = /\d{3}/;
let res3 = reg3.exec(str);
console.log(res3);
console.log(!!res3);
// => ["666", index: 17, input: "jing ke tong xue 666", groups: undefined]
// => true
```

##### 2.1.3 ä½¿ç”¨`search`æ–¹æ³•

å¦‚æœåŒ¹é…æˆåŠŸï¼Œè¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•(å¤§äºç­‰äº0)ï¼Œå¦åˆ™ï¼Œè¿”å› -1ã€‚å¦‚æœä¸ºäº†å’Œä¸Šé¢çš„æ–¹æ³•ä¿æŒä¸€è‡´è¿”å›trueæˆ–falseï¼Œè¿™é‡Œéœ€è¦å€ŸåŠ©ä¸€æ¬¡æŒ‰ä½éæ“ä½œç¬¦(~)ã€‚


```js
const str = 'jing ke tong xue 666';

let reg1 = /\d{4}/;
let res1 = str.search(reg1);
console.log(res1);
console.log(!!~res1);
// => -1
// => flase

let reg2 = /ke/;
let res2 = str.search(reg2);
console.log(res2);
console.log(!!~res2);
// => 5
// => true

const reg3 = /\d{3}/;
let res3 = str.search(reg3);
console.log(res3);
console.log(!!~res3);
// => 17
// => true
```

##### 2.1.4 ä½¿ç”¨`match`æ–¹æ³•

å¦‚æœåŒ¹é…æˆåŠŸï¼Œè¿”å›ä¸€ä¸ª`Array`ï¼Œå¦åˆ™è¿”å›nullã€‚å¾—åˆ°çš„ç»“æœä¸¤æ¬¡å–åå–å¾—trueæˆ–è€…falseä½¿ç”¨ã€‚


```js
const str = 'jing ke tong xue 666';

let reg1 = /\d{4}/;
let res1 = str.match(reg1);
console.log(res1);
console.log(!!res1);
// => null
// => flase

let reg2 = /ke/;
let res2 = str.match(reg2);
console.log(res2);
console.log(!!res2);
// => ["ke", index: 5, input: "jing ke tong xue 666", groups: undefined]
// => true

let reg3 = /\d{3}/;
let res3 = str.match(reg3);
console.log(res3);
console.log(!!res3);
// => ["666", index: 17, input: "jing ke tong xue 666", groups: undefined]
// => true
```

#### 2.2 æ›¿æ¢
 æœ‰æ—¶å€™æ‰¾åˆ°äº†å¯¹è±¡å¾€å¾€ä¸æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„ï¼Œæ‰¾åˆ°äº†å¯¹è±¡åšç‚¹ä»€ä¹ˆæ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„ğŸ˜ã€‚ 

è¿™é‡Œæˆ‘ä»¬çœ‹ä¸€çœ‹æ‰¾åˆ°åçš„æ›¿æ¢æ“ä½œï¼Œæˆ‘æœ¬äººçš„å¸¸ç”¨åœºæ™¯å°±æ˜¯æ ¼å¼åŒ–æ—¥æœŸå’Œåˆ é™¤ç©ºæ ¼ã€‚


```js
// æŠŠYYYY/MM/DDæ ¼å¼çš„æ—¥æœŸæ›¿æ¢æˆYYYY-MM-DDæ ¼å¼ã€‚
const str1 = 'jing-ke-tong-xue';

let res1 = str1.replace(/-/g, ' ');
console.log(res1);
// => jing ke tong xue

// åˆ é™¤å‰åç©ºæ ¼, ä¸ºäº†ç›´è§‚è¿™é‡ŒæŠŠå‰åç©ºæ ¼æ›¿æ¢æˆâ€œåˆ é™¤äº†çš„ç©ºæ ¼â€
const str2 = ' jing ke tong xue ';
let res2 = str2.replace(/^\s|\s$/g, 'åˆ é™¤äº†çš„ç©ºæ ¼');
console.log(res2);
// => åˆ é™¤äº†çš„ç©ºæ ¼jing ke tong xueåˆ é™¤äº†çš„ç©ºæ ¼

// æ®è¯´ä¸‹é¢è¿™ç§æ–¹æ³•é€Ÿåº¦æ¯”è¾ƒå¿«
const str3 = ' jing ke tong xue ';
let res3 = str3.replace(/^\s/, 'åˆ é™¤äº†çš„ç©ºæ ¼').replace(/\s$/, 'åˆ é™¤äº†çš„ç©ºæ ¼');
console.log(res3);
// => åˆ é™¤äº†çš„ç©ºæ ¼jing ke tong xueåˆ é™¤äº†çš„ç©ºæ ¼
```

#### 2.3 åˆ‡åˆ†

åˆ‡èåœåˆ‡èåœåˆ‡åˆ‡åˆ‡ï¼ŒåŒ…é¥ºå­åŒ…é¥ºå­æææğŸ·ã€‚åœ¨è¿™é‡Œï¼Œæ‰€è°“åˆ‡åˆ†å°±æ˜¯æŠŠå­—ç¬¦ä¸²åˆ‡çš„ä¸€æ®µä¸€æ®µçš„ã€‚


```js
// æŒ‰ç©ºæ ¼åˆ‡åˆ†
const str = 'jing ke tong xue';

console.log(str.split(/\s/));
// => ["jing", "ke", "tong", "xue"]

const str2 = 'jing * ke ï¿¥ tong ^xue';
console.log(str2.split(/\s\*\s|\sï¿¥\s|\s\^/))
// => ["jing", "ke", "tong", "xue"]
```

#### 2.4 æå–

æœ‰æ—¶å€™éªŒè¯ã€æ›¿æ¢ã€åˆ‡åˆ†éƒ½ä¸æ˜¯ç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦æå–å‡ºæ¥å¯¹æˆ‘ä»¬æœ‰ç”¨çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±éœ€è¦æå–äº†ã€‚æ­¤æ—¶éœ€è¦ç”¨åˆ°ä¸‹ç¯‡ä¼šå†™åˆ°çš„â€œæ‹¬å·â€ï¼ˆåˆ†ç»„å¼•ç”¨æˆ–è€…åˆ†ç»„æ•è·ï¼‰ã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªæ­£åˆ™å°†ä¼šè´¯ç©¿æœ¬å°èŠ‚ï¼Œæˆ‘ä»¬å…ˆæå‰åˆ†æä¸€ä¸‹ï¼š


```js
// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg = /(\d{4})\D(\d{2})\D(\d{2})/g;
```


å¯è§†åŒ–è§†å›¾ï¼š

![][4]

çœ‹å›¾è¯´è¯ï¼šä»ä¸Šå›¾å¯çŸ¥è¿™æ®µæ­£åˆ™çš„æ„æ€å°±æ˜¯ï¼š`4ä¸ªæ•°å­—`åè·Ÿä¸€ä¸ª`éæ•°å­—`å†è·Ÿ`2ä¸ªæ•°å­—`å†è·Ÿä¸€ä¸ª`éæ•°å­—`å†è·Ÿ`2ä¸ªæ•°å­—`ã€‚å½¢å¦‚ï¼š`4ä¸ªæ•°å­—-2ä¸ªæ•°å­—-2ä¸ªæ•°å­—`æ ¼å¼ã€‚

2.4.1 ä½¿ç”¨`exec`æ–¹æ³•


```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";
// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg = /(\d{4})\D(\d{2})\D(\d{2})/g;
// ä¸Šç¯‡æ–‡ç« æœ‰è¯´ï¼š`exex`æ–¹æ³•åŒ¹é…åˆ°ä¸€æ¬¡å°±ä¼šè¿”å›ç»“æœï¼Œæƒ³è¦ä¸‹ä¸€ä¸ªç»“æœå¿…é¡»å†æ¬¡è°ƒç”¨
console.log(reg.exec(str));
console.log(reg.exec(str));
// => ["2018-04-04", "2018", "04", "04", index: 16, input: "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯2018-40-40ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²", groups: undefined]
// => ["6666-66-66", "6666", "66", "66", index: 34, input: "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²", groups: undefined]
```


2.4.2 ä½¿ç”¨`match`æ–¹æ³•


```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg1 = /(\d{4})\D(\d{2})\D(\d{2})/;
console.log(str.match(reg1));
// æ²¡æœ‰gæ ‡è¯†ç¬¦è¿”å›ç»“æœä¸matchæ— å¼‚
// => ["2018-04-04", "2018", "04", "04", index: 16, input: "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²", groups: undefined]

// å¸¦æœ‰gæ ‡è¯†ç¬¦ï¼Œç»“æœæ•°ç»„åªåŒ…å«åŒ¹é…ç»“æœ
// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg2 = /(\d{4})\D(\d{2})\D(\d{2})/g;
console.log(str.match(reg2));
// => ["2018-04-04", "6666-66-66"]
```


2.4.3 ä½¿ç”¨`replace`æ–¹æ³•

åœ¨ä¸Šç¯‡æ–‡ç« æ­¥[ã€ŠJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€ã€‹][100]çš„ç†è®ºåŸºç¡€ä¸­æåˆ°`replace`æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ¥æ”¶çš„å‚æ•°åŒ…å«æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚


```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg1 = /(\d{4})\D(\d{2})\D(\d{2})/;

let res1 = [];
str.replace(reg1, function(match, year, month, day, offset, string) {
    res1.push(match, year, month, day, offset, string);
});
console.log(res1);
// => ["2018-04-04", "2018", "04", "04", 16, "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²"]

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg2 = /(\d{4})\D(\d{2})\D(\d{2})/g;

let res2 = [];
str.replace(reg2, function(match, year, month, day, offset, string) {
    res2.push(match);
});
console.log(res2);
// => ["2018-04-04", "6666-66-66"]
```


ä»è¾“å‡ºæ•ˆæœæ¥çœ‹ï¼Œ`replace`æ–¹æ³•å¯ä»¥è¾¾åˆ°æ¨¡æ‹Ÿ`match`æ–¹æ³•çš„æ•ˆæœã€‚è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„ **` æ¡æ¡å¤§è·¯é€šç½—é©¬ `** `No roads can't lead to Rome`(å“¼...å“¼å“¼...ç¿»è¯‘æ˜¯æˆ‘æ•…æ„çš„å—·ğŸ˜‹)

2.4.4 ä½¿ç”¨`test`æ–¹æ³•


æ­¤æ–¹æ³•ä¼šç”¨åˆ°`RegExp.$1-$9`è¿™ä¸€éæ ‡å±æ€§ï¼Œè¿™é‡Œåªæ˜¯ä½¿ç”¨ï¼Œä¸‹æ–‡ä¼šåšä»‹ç»ã€‚



```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg = /(\d{4})\D(\d{2})\D(\d{2})/;

reg.test(str);

// RegExp.$1-$9éæ ‡å±æ€§ï¼Œä½†æ˜¯ç›®çš„è¾¾åˆ°äº†ï¼Œè¯·å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒ
let res = [RegExp.$1, RegExp.$2, RegExp.$3];

console.log(res);
// => ["2018", "04", "04"]
```


2.4.4 ä½¿ç”¨`search`æ–¹æ³•


æ­¤æ–¹æ³•ä¼šç”¨åˆ°`RegExp.$1-$9`è¿™ä¸€éæ ‡å±æ€§ï¼Œè¿™é‡Œåªæ˜¯ä½¿ç”¨ï¼ŒåŒæ ·ç•™åˆ°ä¸‹æ–‡ä»‹ç»ã€‚



```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg = /(\d{4})\D(\d{2})\D(\d{2})/;

str.search(reg);

// RegExp.$1-$9éæ ‡å±æ€§ï¼Œä½†æ˜¯ç›®çš„è¾¾åˆ°äº†ï¼Œè¯·å‹¿ç”¨äºç”Ÿäº§ç¯å¢ƒ
let res = [RegExp.$1, RegExp.$2, RegExp.$3];

console.log(res);
// => ["2018", "04", "04"]
```


åˆ°è¿™é‡Œæ­£åˆ™è¡¨è¾¾å¼çš„éªŒè¯ã€æ›¿æ¢ã€åˆ‡åˆ†ã€æå–å·²ç»ä»‹ç»å®Œäº†ï¼Œæœ‰äº›æ“ä½œæ˜¯ **`å–å·§`** çš„åšæ³•ï¼Œä¹Ÿä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œä¸è¿‡æŸäº›ç‰¹æ®Šæƒ…å†µé™¤å¤–ã€‚è‡³äºå“ªäº›æƒ…å†µæ˜¯ç‰¹æ®Šæƒ…å†µï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æå§ğŸ˜„ã€‚
### ä¸‰. æ³¨æ„è¦ç‚¹

åœ¨æœ¬æ–‡ **` 1.2 `**  å°èŠ‚æåˆ°äº† **`6`** ç§å¯ä»¥ç”¨äºæ­£åˆ™æ“ä½œçš„æ–¹æ³•ï¼Œ`RegExp`æä¾›2ç§ï¼Œ`String`æä¾›4ç§ã€‚æœ¬ç« èŠ‚å°±å›´ç»•è¿™å‡ ç§æ–¹æ³•å±•å¼€ã€‚
#### 3.1`match`æ–¹æ³•è¿”å›ç»“æœçš„æ ¼å¼ä¸ä¸€è‡´é—®é¢˜


è¿™ä¸ªé—®é¢˜ä¸Šæ–‡[ã€ŠJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€ã€‹][100]ä¹Ÿæœ‰ä½“ç°ï¼Œè¿™é‡Œå†å•ç‹¬æ‹¿æ¥è¯´ä¸€è¯´ï¼Œä»¥åŠ æ·±è®°å¿†ã€‚



```js
const str = "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²";

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg1 = /(\d{4})\D(\d{2})\D(\d{2})/;
console.log(str.match(reg1));
// => ["2018-04-04", "2018", "04", "04", index: 16, input: "æå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²ï¼Œä»Šå¤©çš„æ—¥æœŸæ˜¯2018-04-04ï¼Œä»Šå¤©çš„æ—¥æœŸä¸æ˜¯6666-66-66ï¼Œæå–æ—¥æœŸæµ‹è¯•å­—ç¬¦ä¸²", groups: undefined]

// è¿™é‡Œä¸ºäº†ç®€å•æµ‹è¯•ï¼Œåªè€ƒè™‘äº†æ—¥æœŸæ ¼å¼ï¼Œæ²¡è€ƒè™‘æ—¥æœŸçš„åˆç†æ€§
let reg2 = /(\d{4})\D(\d{2})\D(\d{2})/g;
console.log(str.match(reg2));
// => ["2018-04-04", "6666-66-66"]

// è¿™ä¸ªæ­£åˆ™åªæ˜¯æ¥å®¢ä¸²è¯´æ˜é—®é¢˜ï¼Œæ²¡æœ‰å…¶ä»–æ„ä¹‰
let reg3 = /.^/;
console.log(str.match(reg3));
// => null

// è¿™ä¸ªæ­£åˆ™åªæ˜¯æ¥å®¢ä¸²è¯´æ˜é—®é¢˜ï¼Œæ²¡æœ‰å…¶ä»–æ„ä¹‰
let reg4 = /.^/g;
console.log(str.match(reg4));
// => null
```



* å½“æ²¡æœ‰`g`æ ‡è¯†ç¬¦æ—¶ï¼Œè¿”å›çš„ç»“æœä¸ºæ ‡å‡†åŒ¹é…æ ¼å¼ï¼ŒåŒ…å«å®Œæ•´çš„åŒ¹é…ä¿¡æ¯ã€‚

* å½“æœ‰`g`æ ‡è¯†ç¬¦æ—¶ï¼Œè¿”å›çš„ç»“æœä¸ºæ‰€æœ‰åŒ¹é…ç»“æœç»„æˆçš„æ•°ç»„ã€‚

* å½“åŒ¹é…ä¸æˆåŠŸæ—¶ï¼Œæ— è®ºæœ‰æ²¡æœ‰æ ‡è¯†ç¬¦ï¼ˆåŒ…æ‹¬`igmyu`çš„ä»»æ„ç»„åˆï¼‰ï¼Œéƒ½è¿”å›`null`ã€‚



#### 3.2`search`å’Œ`match`çš„å‚æ•°é—®é¢˜

è¯ä¸å¤šè¯´ï¼Œå…ˆçœ‹ä»£ç ï¼š


```js
// ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œæ—¥æœŸæ ¼å¼é€‰æ‹©äº†ç”¨â€œ.â€è¿æ¥ï¼Œå› ä¸ºâ€œ.â€åœ¨æ­£åˆ™ä¸­å±äºå…ƒå­—ç¬¦
const str = '2018.04.04';

console.log(str.search('.'));
console.log(str.search(/./));
console.log(str.search('\\.'));
console.log(str.search(/\./));
// => 0
// => 0
// => 4
// => 4

console.log(str.match('.'));
console.log(str.match(/./));
console.log(str.match('\\.'));
console.log(str.match(/\./));
// => ["2", index: 0, input: "2018.04.04", groups: undefined]
// => ["2", index: 0, input: "2018.04.04", groups: undefined]
// => [".", index: 4, input: "2018.04.04", groups: undefined]
// => [".", index: 4, input: "2018.04.04", groups: undefined]

console.log(str.replace('.', '-'));
console.log(str.replace( /./, '-'));
console.log(str.replace('\.', '-'));
console.log(str.replace(/\./, '-'));
// => 2018-04.04
// => -018.04.04
// => 2018-04.04
// => 2018-04.04

console.log(str.split('.'));
console.log(str.split(/./));
console.log(str.split('\\.'));
console.log(str.split(/\./));
// => ["2018", "04", "04"]
// => ["", "", "", "", "", "", "", "", "", "", ""]
// => ["2018.04.04"]
// => ["2018", "04", "04"]
```


ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡º`search`æ–¹æ³•å’Œ`match`æ–¹æ³•ä¼šå°†æ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²å‚æ•°è½¬ä¸ºæ­£åˆ™ï¼Œè€Œ`replace`æ–¹æ³•å’Œ`split`æ–¹æ³•ä¸ä¼šè½¬æ¢ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶è¯·æ³¨æ„ã€‚
#### 3.3`exec`å’Œ`match`çš„ç‹è€…ä¹‹äº‰
 **`ç‹è€…ä¹‹äº‰ç¬¬ä¸€å›åˆï¼š`** 


```js
const str = '2018-04-04';

let reg1 = /\b(\d+)\b/;
let reg2 = /\b(\d+)\b/g;

console.log(reg1.exec(str));
console.log(reg2.exec(str));
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]

console.log(str.match(reg1));
console.log(str.match(reg2));
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]
// ["2018", "04", "04"]
```



* `g`æ ‡è¯†ç¬¦å¯¹`exec`æ–¹æ³•æ²¡æœ‰äº§ç”Ÿå½±å“ï¼Œä½†æ˜¯æ”¹å˜äº†`match`æ–¹æ³•çš„è¡Œä¸ºã€‚æ²¡ä¸»è§å•Šï¼Œæ²¡ä¸»è§ã€‚

* æ²¡æœ‰`g`æ ‡è¯†ç¬¦æ—¶ï¼Œ`match`è¿”å›æ ‡å‡†åŒ¹é…å‚æ•°ï¼Œæœ‰`g`æ ‡è¯†ç¬¦æ—¶è¿”å›äº†åŒ¹é…ç»“æœçš„é›†åˆã€‚ä½†æ˜¯å¯¹äº`exec`æ–¹æ³•æ— è®ºæœ‰æ²¡æœ‰`g`æ ‡è¯†ç¬¦éƒ½è¿”å›äº†åŒæ ·çš„ç»“æœã€‚ä¸æ™ºèƒ½å•Šï¼Œä¸æ™ºèƒ½ã€‚


 è¿™ä¸€å›åˆå®åŠ›ç›¸å·®ä¸å¤§ï¼Œçœ‹ä¸å‡ºå­°ä¼˜å­°åŠ£ã€‚ 
 **`ç‹è€…ä¹‹äº‰ç¬¬äºŒå›åˆï¼š`** 


```js
const str = '2018-04-04';

let reg1 = /\b(\d+)\b/;
let reg2 = /\b(\d+)\b/g;

console.log(reg2.lastIndex);
console.log(reg2.exec(str));
// => 0
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]

console.log(reg2.lastIndex);
console.log(reg2.exec(str));
// => 4
// => ["04", "04", index: 5, input: "2018-04-04", groups: undefined]

console.log(reg2.lastIndex);
console.log(reg2.exec(str));
// => 7
// => ["04", "04", index: 8, input: "2018-04-04", groups: undefined]

console.log(reg2.lastIndex);
console.log(reg2.exec(str));
// => 10
// => null

// ä¸Šä¸€æ¬¡åŒ¹é…å¤±è´¥ï¼Œè¿™ä¸€æ¬¡ä»å¤´å¼€å§‹
console.log(reg2.lastIndex);
console.log(reg2.exec(str));
// => 0
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]

// æ²¡æœ‰gæ ‡è¯†ç¬¦æ—¶matchæ–¹æ³•æ¯æ¬¡éƒ½ä»ç¬¬ä¸€ä½å¼€å§‹åŒ¹é…
console.log(str.match(reg1));
console.log(str.match(reg1));
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]
// => ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]
```


è¿™ä¸€å›åˆæ²¡æœ‰æ‚¬å¿µï¼Œ`exec`æ–¹æ³•èƒœå‡ºã€‚ä¸è¿‡ä¸Šé¢çš„å†™æ³•æœªå…å¤ªè¿‡ç¹çã€‚è¯·çœ‹ä¸‹é¢å½“`exec`é‡ä¸Š`while`ï¼š


```js
const str = '2018-04-04';

let reg = /\b(\d+)\b/g;

// ç»“åˆwhileæµç¨‹æ§åˆ¶è¯­å¥
let res;
while (res = reg.exec(str)) {
    console.log(reg.lastIndex, res);
}
// => 4 ["2018", "2018", index: 0, input: "2018-04-04", groups: undefined]
// => 7 ["04", "04", index: 5, input: "2018-04-04", groups: undefined]
// => 10 ["04", "04", index: 8, input: "2018-04-04", groups: undefined]
```


ç‹è€…ä¹‹äº‰è‡³æ­¤ç»“æŸã€‚`exec`è¦æ¯”`match`å¼ºå¤§é‚£ä¹ˆä¸€ç‚¹å“ˆã€‚
#### 3.4 é™¤äº†`exec`æ–¹æ³•ï¼Œ`g`æ ‡è¯†ç¬¦å¯¹`test`æ–¹æ³•ä¹Ÿæœ‰å½±å“

ä¸Šç¯‡æ–‡ç« æ›¾ç»æåˆ° **`lastIndex æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªå¯è¯»å¯å†™çš„æ•´å‹å±æ€§ï¼Œç”¨æ¥æŒ‡å®šä¸‹ä¸€æ¬¡åŒ¹é…çš„èµ·å§‹ç´¢å¼•ã€‚`**  ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ­£åˆ™è¿˜æ˜¯é‚£ä¸ªæ­£åˆ™ï¼Œå½“å­˜åœ¨`g`æ ‡è¯†ç¬¦çš„æ—¶å€™`lastIndex`éƒ½ä¼šåšå‡ºç›¸åº”çš„æ”¹å˜ï¼Œè¦åŒ¹é…çš„å­—ç¬¦ä¸²å¯ä»¥ä¸æ˜¯åŒä¸€ä¸ªã€‚


```js
const str1 = '2018-04-04';
const str2 = '2018-04-05';
const str3 = '2018-04-06';
const str4 = '2018-04-07';
const str5 = '2018-04-08';

let reg = /\b(\d+)\b/g;

console.log(reg.lastIndex);
console.log(reg.test(str1));
// => 0
// => true

console.log(reg.lastIndex);
console.log(reg.test(str2));
// => 4
// => true

console.log(reg.lastIndex);
console.log(reg.test(str3));
// => 7
// => true

console.log(reg.lastIndex);
console.log(reg.test(str4));
// => 10
// => false

console.log(reg.lastIndex);
console.log(reg.test(str5));
// => 0
// => true
```


å½“æ²¡æœ‰`g`æ“ä½œç¬¦æ—¶ï¼Œå§‹ç»ˆä»0å¼€å§‹åŒ¹é…ï¼Œè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ã€‚
#### 3.5`split`æ–¹æ³•æ³¨æ„äº‹é¡¹


```js
const str = '2018-04-04';

console.log(str.split('-'));
console.log(str.split('-', 2));
console.log(str.split('-', 10));
// => ["2018", "04", "04"]
// => ["2018", "04"]
// => ["2018", "04", "04"]

let reg1 = /-/;
let reg2 = /(-)/;

console.log(str.split(reg1));
console.log(str.split(reg2));
// => ["2018", "04", "04"]
// => ["2018", "-", "04", "-", "04"]
```



* `split`æ–¹æ³•å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè¿”å›æ•°ç»„é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°åªæœ‰å°äºå®é™…è¿”å›æ•°ç»„é•¿åº¦æ—¶æ‰ç”Ÿæ•ˆã€‚

* å½“`split`æ¥æ”¶çš„æ­£åˆ™è¡¨è¾¾å¼ç§åŒ…å«åˆ†ç»„æ¨¡å¼æ—¶ï¼Œè¿”å›çš„ç»“æœæ•°ç»„åŒ…å«åˆ†ç»„åŒ¹é…é¡¹ã€‚



#### 3.6 å¼ºå¤§çš„`replace`æ–¹æ³•
`replace`æ–¹æ³•ä¸ä½†å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°(å‰é¢å·²ç»ä½“ç°ï¼Œè¿™å„¿ä¸é‡å¤ç¤ºä¾‹)ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚æ­¤å¤„çš„å­—ç¬¦ä¸²é™¤äº†æ˜¯ä¸€ä¸ªæ™®é€šçš„æ›¿æ¢å­—ç¬¦ä¸²ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ã€‚æœ¬å°èŠ‚ä»¥å®é™…ç¤ºä¾‹ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªç‰¹æ®Šå˜é‡ï¼ˆç¬¬ä¸€ç¯‡ç†è®ºåŸºç¡€æœ‰æåŠï¼‰ã€‚
| å˜é‡å | ä»£è¡¨çš„å€¼ |
| $$ | æ’å…¥ä¸€ä¸ª "$"ã€‚ |
| $& | æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚ |
| $` | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚ |
| $' | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚ |
| $n | åŒ¹é…ç¬¬nä¸ªåˆ†ç»„é‡Œæ•è·çš„æ–‡æœ¬ï¼Œnæ˜¯ä¸å¤§äº100çš„æ­£æ•´æ•°ã€‚ |


å“‡å“ˆï¼Œæ˜¯æ—¶å€™è¡¨æ¼”çœŸæ­£çš„æŠ€æœ¯äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹`replace`çš„èƒ½åŠ›ã€‚


```js
const str1 = '3 6 9';
        
let reg1 = /\d/g;
// è¢«$åŒ…å›´
console.log(str1.replace(reg1, '$$$&$$'));
// => $3$ $6$ $9$

// åˆ†èº«
console.log(str1.replace(reg1, '$&$&$&'));
// => 333 666 999

// åˆ†èº«ç›¸åŠ 
let reg2 = /(\d)\s(\d)\s(\d)/;
console.log(str1.replace(reg2, '$1$1$1+$2$2$2$2=$3$3$3'));
// => 333+6666=999

// ä½ çˆ±æˆ‘æˆ‘çˆ±ä½ 
console.log(str1.replace(reg2, '$1$1$1+$2$2$2=$2$2$2+$1$1$1=$3$3$3=>ğŸ˜'));
// => 333+666=666+333=999=>ğŸ˜

const str2 = '3ğŸ¥•6ğŸŒ°9';
let reg3 = /ğŸ¥•|ğŸŒ°/g;
console.log(str2.replace(reg3, "($&çš„å·¦è¾¹æ˜¯: $`, å³è¾¹æ˜¯: $')"));
// => 3(ğŸ¥•çš„å·¦è¾¹æ˜¯: 3, å³è¾¹æ˜¯: 6ğŸŒ°9)6(ğŸŒ°çš„å·¦è¾¹æ˜¯: 3ğŸ¥•6, å³è¾¹æ˜¯: 9)9
```


çªç„¶é—´æ„Ÿè§‰ç‹è€…ä¹‹äº‰ä¸åº”è¯¥åªè®©`exec`å’Œ`match`å‚åŠ ï¼Œ`replace`è¿™ä¹ˆå¼ºå¤§ï¼Œä¹Ÿåº”è¯¥å‚ä¸å…¶ä¸­çš„å˜›ğŸ˜„ã€‚
#### 3.7 æ„é€ å‡½æ•°å’Œå­—é¢é‡é—®é¢˜

è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆæ‚¬å¿µï¼Œä¸€èˆ¬å»ºè®®ä¼˜å…ˆä½¿ç”¨å­—é¢é‡çš„æ–¹å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå› ä¸ºæ„é€ å‡½æ•°ä¸­éœ€è¦å¯¹å…ƒå­—ç¬¦è½¬ä¹‰ï¼Œä¼šå¤šå†™å¾ˆå¤šçš„åæ–œæ ã€‚å½“ç„¶ç‰¹æ®Šæƒ…å†µè¿˜æ˜¯è¦ç”¨æ„é€ å‡½æ•°ã€‚


```js
const str = '2018-04-04';

let reg1 = /(\d{4})\D(\d{2})\D(\d{2})/;
console.log(reg1);
console.log(reg1.test(str));
// => /(\d{4})\D(\d{2})\D(\d{2})/
// => true

let reg2 = new RegExp('(\d{4})\D(\d{2})\D(\d{2})');
console.log(reg2);
console.log(reg2.test(str));
// => /(d{4})D(d{2})D(d{2})/
// => false

let reg3 = new RegExp('(\\d{4})\\D(\\d{2})\\D(\\d{2})');
console.log(reg3);
console.log(reg3.test(str));
// => /(\d{4})\D(\d{2})\D(\d{2})/
// => true
```


ä¸‹é¢æ˜¯ç‰¹æ®Šæƒ…å†µï¼š


```js
let name = 'user name';

// user nameæ˜¯ä¸€ä¸ªå˜é‡
const str = '2018-04-04 user name';

// åœ¨å­—é¢é‡ä¸­ï¼Œæ— æ³•å®ç°åŠ¨æ€æ‹¼æ¥
let reg1 = /(\d{4})\D(\d{2})\D(\d{2})\D + name/;
console.log(reg1);
console.log(reg1.test(str));
// => /(\d{4})\D(\d{2})\D(\d{2})\D + name/
// => flase

let reg2 = new RegExp('(\\d{4})\\D(\\d{2})\\D(\\d{2})\\D' + '(' + name + ')');
console.log(reg2);
console.log(reg2.test(str));
// => /(\d{4})\D(\d{2})\D(\d{2})\D(user name)/
// => true
```

#### 3.8 å‡ ä¸ªéæ ‡å±æ€§

ä¸Šé¢ç”¨åˆ°äº†`RegExp.$1`è¿™ä¸€éæ ‡å±æ€§ï¼Œæ‰€è°“éæ ‡å±æ€§ï¼Œå°±æ˜¯æ­¤å±æ€§ä¸ç¬¦åˆå½“å‰ä»»ä½•æ ‡å‡†è§„èŒƒã€‚æ‰€ä»¥ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œé™¤éç‰¹æ®Šæƒ…å†µå¹¶ä¸”ä½ èƒ½ä¿è¯ä»¥åä¹Ÿä¸ä¼šå‡ºé”™ã€‚
| å±æ€§ | åˆ«å | è¯´æ˜ |
| RegExp.$1-$9 | æ—  | é™æ€ã€åªè¯»å±æ€§ã€‚åŒ…å«æ‹¬å·å­ä¸²åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼çš„é™æ€å’Œåªè¯»å±æ€§ã€‚åªæœ‰åœ¨æ­£ç¡®åŒ¹é…çš„æƒ…å†µä¸‹æ‰ä¼šæ”¹å˜ã€‚è™½ç„¶æ‹¬å·å¯ä»¥æ— é™ï¼Œä½†æ˜¯æ­¤å±æ€§æœ€å¤šåªèƒ½åŒ¹é…9ä¸ªã€‚ |
| RegExp.input | RegExp.$_ | é™æ€å±æ€§ï¼Œå«æœ‰æ­£åˆ™è¡¨è¾¾å¼æœ€è¿‘ä¸€æ¬¡æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚å½“æ­£åˆ™è¡¨è¾¾å¼ä¸Šæœç´¢çš„å­—ç¬¦ä¸²å‘ç”Ÿè¯¥å˜ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²åŒ¹é…æ—¶ï¼Œinput å±æ€§çš„å€¼ä¼šä¿®æ”¹ã€‚ |
| RegExp.lastMatch | RegExp['$&'] | é™æ€ã€åªè¯»å±æ€§ã€‚å«æœ‰æœ€è¿‘ä¸€æ¬¡åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚å±æ€§çš„å€¼æ˜¯åªè¯»çš„ï¼Œä¼šåœ¨åŒ¹é…æˆåŠŸæ—¶ä¿®æ”¹ã€‚ |
| RegExp.lastParen | RegExp['$+'] | é™æ€ã€åªè¯»å±æ€§ï¼ŒåŒ…å«åŒ¹é…åˆ°çš„æœ€åä¸€ä¸ªå­ä¸²ã€‚ä¼šåœ¨åŒ¹é…æˆåŠŸæ—¶ä¿®æ”¹ã€‚ |
| RegExp.leftContext | RegExp['$`'] | é™æ€ã€åªè¯»å±æ€§ã€‚å«æœ‰æœ€æ–°åŒ¹é…çš„å·¦ä¾§å­ä¸²ã€‚ ä¼šåœ¨åŒ¹é…æˆåŠŸæ—¶ä¿®æ”¹ã€‚ |
| RegExp.rightContext | RegExp["$'"] | é™æ€ã€åªè¯»å±æ€§ã€‚å«æœ‰æœ€æ–°åŒ¹é…çš„å³ä¾§å­ä¸²ã€‚ ä¼šåœ¨åŒ¹é…æˆåŠŸæ—¶ä¿®æ”¹ã€‚ |


è¿™å‡ ä¸ªå±æ€§å¹³æ—¶ä¹ŸåŸºæœ¬ç”¨ä¸åˆ°ï¼Œäº†è§£äº†è§£æ€»æ˜¯å¥½çš„ï¼Œè¯·çœ‹ä¸‹é¢ç¤ºä¾‹ï¼š


```js
const str = 'a1b2c3d4e5f6';
let reg = /([a-f])([1-6])/g;

// ä¸ºäº†å€’æ•°ç¬¬äºŒä¸ªæœ‰è¾“å‡ºï¼Œè¿™é‡Œæ‰§è¡Œä¸¤æ¬¡execæ–¹æ³•
console.log(reg.exec(str));
console.log(reg.exec(str));
// ["a1", "a", "1", index: 0, input: "a1b2c3d4e5f6", groups: undefined]
// ["b2", "b", "2", index: 2, input: "a1b2c3d4e5f6", groups: undefined]

console.log(RegExp.$1);
console.log(RegExp.$2);
// => b
// => 2

console.log(RegExp.input);
console.log(RegExp.$_);
// => a1b2c3d4e5f6
// => a1b2c3d4e5f6

console.log(RegExp.lastMatch);
console.log(RegExp['$&']);
// => b2
// => b2

console.log(RegExp.lastParen);
console.log(RegExp['$+']);
// => 2
// => 2

console.log(RegExp.leftContext);
console.log(RegExp['$`']);
// => a1
// => a1

console.log(RegExp.rightContext);
console.log(RegExp["$'"]);
// => c3d4e5f6
// => c3d4e5f6
```

### å››. å¥‡æŠ€æ·«å·§

æœ¬æ–‡å†™çš„ä¹ŸæŒºé•¿çš„ï¼Œå‰©ä¸‹çš„å‡†å¤‡å†å†™ä¸€ç¯‡ç»ˆç»“JavaScriptæ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†çš„å†…å®¹ã€‚é‚£ä¹ˆæœ¬æ–‡å°±å…ˆç”¨ä¸€ä¸ªçœŸæ˜¯æ¡ˆä¾‹æ¥åšç»“å°¾å§ã€‚
 **`JavaScriptå¸¸ç”¨çš„ç±»å‹åˆ¤æ–­å®ç°`** 

ä¸‹é¢è¿™æ®µä»£ç æ˜¯åœ¨æŸä¸ªæ¡†æ¶æºç ä¸­è§åˆ°çš„ï¼Œåˆè§ä¹‹æ—¶å€æ„ŸæƒŠè‰³(åŸè°…æˆ‘å…¥è¡Œä¸ä¹…è§è¯†çŸ­ğŸ·)ï¼Œå…¶ä¸­ä¹Ÿç”¨åˆ°ä¸Šæ–‡æåˆ°çš„`split`æ–¹æ³•ï¼Œç‰¹æ‹¿å‡ºæ¥åˆ†äº«ä¸€ä¸‹ã€‚


```js
let utils = Object.create(null);
const types = 'Boolean|Number|String|Function|Array|Date|RegExp|Object|Error';
types.split('|').forEach(type => {
    utils['is' + type] = obj => {
        return Object.prototype.toString.call(obj) == '[object ' + type + ']';
    };
});
console.log(utils.isBoolean('true'));
console.log(utils.isBoolean(true));
```


è™½ç„¶å¯ä»¥å°†`Boolean|Number|String|Function|Array|Date|RegExp|Object|Error`å­˜å‚¨ä¸ºæ•°ç»„å‡å°‘ä¸€æ¬¡`split`åˆ‡åˆ†æ“ä½œï¼Œä½†æ˜¯è¿™æ ·ä¼¼ä¹å¤šäº†ç‚¹é»‘ç§‘æŠ€çš„æ„Ÿè§‰ã€‚


ç”±äºæœ¬åŒå­¦èƒ½åŠ›æœ‰é™ï¼Œä¸è¶³ä¹‹å¤„è¿˜æœ›å„ä½å¤§ä½¬åŒå­¦æŒ‡æ­£ã€‚

 **` è‡³æ­¤ï¼Œæœ¬æ–‡å®Œã€‚ `** 


* **` [ç¬¬ä¸€ç¯‡å®Œç»“: JavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸€) - ç†è®ºåŸºç¡€][104] `** 
* **` ç¬¬äºŒç¯‡å®Œç»“(å°±æ˜¯æœ¬æ–‡)ï¼šJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(äºŒ) - æ‰“æ€ªå‡çº§ `** 
* **` ç¬¬ä¸‰ç¯‡å¾…æ›´ï¼šJavaScriptæ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ç¬”è®°(ä¸‰) - ç»ˆç«  `** 


[0]: ../img/162a2ededce03687.png
[1]: ../img/162a2ee7e9e2adf1.png
[2]: ../img/162a2eec378d55d6.png
[3]: ../img/162a2ef06003fa5c.png
[4]: ../img/162a2ef4a854c045.png
[100]: https://juejin.im/post/5ac184a9f265da237b223cb0
[101]: https://juejin.im/post/5ac184a9f265da237b223cb0
[102]: https://juejin.im/post/5ac184a9f265da237b223cb0
[103]: https://juejin.im/post/5ac184a9f265da237b223cb0
[104]: https://juejin.im/post/5ac184a9f265da237b223cb0


